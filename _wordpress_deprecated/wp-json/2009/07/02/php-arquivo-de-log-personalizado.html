<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="pt-BR" xmlns:fb="http://www.facebook.com/2008/fbml" xmlns:og="http://opengraphprotocol.org/schema/">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="pt-BR" xmlns:fb="http://www.facebook.com/2008/fbml" xmlns:og="http://opengraphprotocol.org/schema/">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="pt-BR" xmlns:fb="http://www.facebook.com/2008/fbml" xmlns:og="http://opengraphprotocol.org/schema/">
<!--<![endif]-->
<head>
<base href="https://rafaelbiriba.com/blogwp.html" />

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>PHP: Arquivo de log personalizado | Rafael Biriba Blog</title>
	
	
	<!--[if lt IE 9]>
	<script src="https://rafaelbiriba.com/wp-content/themes/twentyfourteen/js/html5.js"></script>
	<![endif]-->
	


		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.rafaelbiriba.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.5.3"}};
			!function(a,b,c){function d(a){var c,d,e,f=b.createElement("canvas"),g=f.getContext&&f.getContext("2d"),h=String.fromCharCode;if(!g||!g.fillText)return!1;switch(g.textBaseline="top",g.font="600 32px Arial",a){case"flag":return g.fillText(h(55356,56806,55356,56826),0,0),f.toDataURL().length>3e3;case"diversity":return g.fillText(h(55356,57221),0,0),c=g.getImageData(16,16,1,1).data,d=c[0]+","+c[1]+","+c[2]+","+c[3],g.fillText(h(55356,57221,55356,57343),0,0),c=g.getImageData(16,16,1,1).data,e=c[0]+","+c[1]+","+c[2]+","+c[3],d!==e;case"simple":return g.fillText(h(55357,56835),0,0),0!==g.getImageData(16,16,1,1).data[0];case"unicode8":return g.fillText(h(55356,57135),0,0),0!==g.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='wgs-css'  href='https://rafaelbiriba.com/wp-content/plugins/wp-google-search/wgs.css?ver=4.5.3' type='text/css' media='all' />
<link rel='stylesheet' id='contact-form-7-css'  href='https://rafaelbiriba.com/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.4.2' type='text/css' media='all' />
<link rel='stylesheet' id='wp-pagenavi-css'  href='https://rafaelbiriba.com/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='https://rafaelbiriba.com/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfourteen-lato-css'  href='https://fonts.googleapis.com/css?family=Lato%3A300%2C400%2C700%2C900%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='https://rafaelbiriba.com/wp-content/themes/twentyfourteen/genericons/genericons.css?ver=3.0.3' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfourteen-style-css'  href='https://rafaelbiriba.com/wp-content/themes/twentyfourteen/style.css?ver=4.5.3' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentyfourteen-ie-css'  href='https://rafaelbiriba.com/wp-content/themes/twentyfourteen/css/ie.css?ver=20131205' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='github-profile-octicons-css'  href='https://rafaelbiriba.com/wp-content/plugins/github-profile-widget/css/octicons/octicons.css?ver=4.5.3' type='text/css' media='all' />
<link rel='stylesheet' id='github-profile-widget-styles-css'  href='https://rafaelbiriba.com/wp-content/plugins/github-profile-widget/css/widget.css?ver=4.5.3' type='text/css' media='all' />
<link rel='stylesheet' id='A2A_SHARE_SAVE-css'  href='https://rafaelbiriba.com/wp-content/plugins/add-to-any/addtoany.min.css?ver=1.12' type='text/css' media='all' />
<link rel='stylesheet' id='fbSEOStylesheet-css'  href='https://rafaelbiriba.com/wp-content/plugins/seo-facebook-comments/assets/fbseo-style.css?ver=4.5.3' type='text/css' media='all' />
<!-- This site uses the Google Analytics by MonsterInsights plugin v5.5.2 - Universal enabled - https://www.monsterinsights.com/ -->
<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-7346716-1', 'auto');
	__gaTracker('set', 'forceSSL', true);
	__gaTracker('send','pageview');

</script>
<!-- / Google Analytics by MonsterInsights -->
<script type='text/javascript' src='https://rafaelbiriba.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://rafaelbiriba.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='https://rafaelbiriba.com/wp-content/plugins/content-slide/js/coin-slider.js?ver=4.5.3'></script>
<link rel='https://api.w.org/' href='https://rafaelbiriba.com/wp-json/' />

 

<link rel='next' title='Liberdade aos desenvolvedores: Atualize seu Navegador' href='https://rafaelbiriba.com/2009/07/14/liberdade-aos-desenvolvedores-atualize-seu-navegador.html' />

<link rel='shortlink' href='https://rafaelbiriba.com/?p=791' />



<script type="text/javascript"><!--
var a2a_config=a2a_config||{},wpa2a={done:false,html_done:false,script_ready:false,script_load:function(){var a=document.createElement('script'),s=document.getElementsByTagName('script')[0];a.type='text/javascript';a.async=true;a.src='https://static.addtoany.com/menu/page.js';s.parentNode.insertBefore(a,s);wpa2a.script_load=function(){};},script_onready:function(){wpa2a.script_ready=true;if(wpa2a.html_done)wpa2a.init();},init:function(){for(var i=0,el,target,targets=wpa2a.targets,length=targets.length;i<length;i++){el=document.getElementById('wpa2a_'+(i+1));target=targets[i];a2a_config.linkname=target.title;a2a_config.linkurl=target.url;a2a_config.linkmedia=target.media;if(el){a2a.init('page',{target:el});el.id='';}wpa2a.done=true;}wpa2a.targets=[];}};a2a_config.callbacks=a2a_config.callbacks||[];a2a_config.callbacks.push({ready:wpa2a.script_onready});a2a_config.templates=a2a_config.templates||{};a2a_localize = {
	Share: "Compartilhar",
	Save: "Salvar",
	Subscribe: "Inscrever",
	Email: "Email",
	Bookmark: "Favoritos",
	ShowAll: "Mostrar tudo",
	ShowLess: "Mostrar menos",
	FindServices: "Procurar servi√ßo(s)",
	FindAnyServiceToAddTo: "Encontrar rapidamente qualquer servi√ßo para",
	PoweredBy: "Servi√ßo fornecido por",
	ShareViaEmail: "Share via email",
	SubscribeViaEmail: "Subscribe via email",
	BookmarkInYourBrowser: "Adicionar aos favoritos",
	BookmarkInstructions: "Press Ctrl+D or \u2318+D to bookmark this page",
	AddToYourFavorites: "Adicionar a favoritos",
	SendFromWebOrProgram: "Send from any email address or email program",
	EmailProgram: "Email program",
	More: "More&#8230;"
};

//--></script>
<script type="text/javascript">
	var $jquery = jQuery.noConflict(); 
	$jquery(document).ready(function() 
	{
		$jquery('#wpcontent_slider').coinslider(
	{ 
	width: 980, 
	height: 370, 
	spw: 7, 
	sph: 5, 
	delay: 3000, 
	sDelay: 30, 
	opacity: 0.7, 
	titleSpeed: 500, 
	effect: 'random', 
	navigation: true, 
	links : true, 
	hoverPause: true });
		});
	</script>
<style type="text/css" media="screen">
		
#wpcontent_slider_container
{
	overflow: hidden; position: relative; padding:0px;margin:0px; text-align:center; width:980px !important;
	height:370px !important;
}
#wpcontent_slider 
{ overflow: hidden; position: relative; font-family:\'Trebuchet MS\', Helvetica, sans-serif;border:0px solid #ffffff; text-align:left;}
#wpcontent_slider a,#wpcontent_slider a img { border: none; text-decoration: none; outline: none; }
#wpcontent_slider h4,#wpcontent_slider h4 a 
{margin: 0px;padding: 0px; font-family: 'Trebuchet MS', Helvetica, sans-serif;
text-decoration:none;font-size: 18px; color:#ffffff;}
#wpcontent_slider .cs-title {width: 100%;padding: 10px; background: #ffffff; color: #000000; font-family: 'Trebuchet MS', Helvetica, sans-serif; font-size: 12px; letter-spacing: normal;line-height: normal;}
#wpcontent_slider_container .cs-prev,#wpcontent_slider_container .cs-next {font-weight: bold;background: #000000;
font-size: 28px; font-family: "Courier New", Courier, monospace; color: #ffffff !important;
padding: 0px 10px;-moz-border-radius: 5px;-khtml-border-radius: 5px;-webkit-border-radius: 5px;}
#wpcontent_slider_container .cs-buttons { font-size: 0px; padding: 10px 0px 10px 0px;
margin:0px auto; float:left;clear:left;
}
#wpcontent_slider_container .cs-buttons a { outline:none; margin-left: 5px; height: 10px; width: 10px; float: left; border: 1px solid #000000; color: #000000; text-indent: -1000px; 
}
#wpcontent_slider_container .cs-active { background-color: #000000; color: #FFFFFF; }
#wpcs_link_love,#wpcs_link_love a{display:none;}
</style>
<!-- End Content Slider Settings -->


		<style type="text/css">
			.cbd {
				position: fixed;
				left: 5px;
				bottom: 5px;
			}
			.cbd a img {
				border: 0;
			}
		</style>
	<meta property='fb:admins' content='1644160548' /><meta property='og:title' content='PHP: Arquivo de log personalizado' /><meta property='og:site_name' content='Rafael Biriba Blog' /><meta property='og:url' content='https://rafaelbiriba.com/2009/07/02/php-arquivo-de-log-personalizado.html' /><meta property='og:type' content='article' /><meta property='fb:app_id' content='589867447707428'>
	<link rel="stylesheet" href="https://rafaelbiriba.com/wp-content/plugins/shutter-reloaded/shutter-reloaded.css?ver=2.4" type="text/css" media="screen" />
	<style type='text/css'>
div#shNavBar a {color: #000000;}
div#shNavBar {background-color:#ffff00;}
div#shNavBar {color:#000000;}
div#shDisplay div#shTitle {color:#ffff00;}
</style>
<script type="text/javascript">
	window._wp_rp_static_base_url = 'https://wprp.zemanta.com/static/';
	window._wp_rp_wp_ajax_url = "https://rafaelbiriba.com/wp-admin/admin-ajax.php";
	window._wp_rp_plugin_version = '3.6';
	window._wp_rp_post_id = '791';
	window._wp_rp_num_rel_posts = '5';
	window._wp_rp_thumbnails = false;
	window._wp_rp_post_title = 'PHP%3A+Arquivo+de+log+personalizado';
	window._wp_rp_post_tags = ['codigo', 'historico', 'log', 'logger', 'php', 'registro', 'php', 'desenvolvimento', 'os', 'foi', 'janeiro', 'da', 'php', 'foss', 'rio', 'de', 'timezon', 'rea', 'uma', 'paulo', 'dia', 'na', 'como'];
	window._wp_rp_promoted_content = true;
</script>
<script type="text/javascript" src="https://wprp.zemanta.com/static/js/loader.js?version=3.6" async></script>
</head>

<body class="single single-post postid-791 single-format-standard masthead-fixed singular">
<div id="page" class="hfeed site">
	
	<header id="masthead" class="site-header" role="banner">
		<div class="header-main">
			<h1 class="site-title"><a href="https://rafaelbiriba.com/blogwp.html" rel="home">Rafael Biriba Blog</a></h1>

			<div class="search-toggle">
				<a href="#search-container" class="screen-reader-text" aria-expanded="false" aria-controls="search-container">Pesquisar</a>
			</div>

			<nav id="primary-navigation" class="site-navigation primary-navigation" role="navigation">
				<button class="menu-toggle">Menu principal</button>
				<a class="screen-reader-text skip-link" href="#content">Pular para o conte√∫do</a>
				<div id="primary-menu" class="nav-menu"><ul><li class="page_item page-item-3171"><a href="https://rafaelbiriba.com/search_gcse">Busca</a></li><li class="page_item page-item-101"><a href="https://rafaelbiriba.com/contatos">Contatos</a></li><li class="page_item page-item-1251"><a href="https://rafaelbiriba.com/twitter">Twitter</a></li></ul></div>
			</nav>
		</div>

		<div id="search-container" class="search-box-wrapper hide">
			<div class="search-box">
				<form role="search" method="get"
    class="search-form" action="https://rafaelbiriba.com//search_gcse">
    <div>
        <label class="screen-reader-text" for="s"></label>
        <input type="text" value="" name="q" id="q" />
        <input type="submit" id="searchsubmit"
            value="Pesquisar" />
    </div>
</form>
			</div>
		</div>
	</header><!-- #masthead -->

	<div id="main" class="site-main">

	<div id="primary" class="content-area">
		<div id="content" class="site-content" role="main">

			<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 798x80 images only -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-9952848327781387"
     data-ad-slot="6793331087"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

			
<article id="post-791" class="post-791 post type-post status-publish format-standard hentry category-desenvolvimento category-php tag-codigo tag-historico tag-log tag-logger tag-php tag-registro">
	
	<header class="entry-header">
				<div class="entry-meta">
			<span class="cat-links"><a href="https://rafaelbiriba.com/category/desenvolvimento" rel="category tag">Desenvolvimento</a>, <a href="https://rafaelbiriba.com/category/desenvolvimento/php" rel="category tag">PHP</a></span>
		</div>
		<h1 class="entry-title">PHP: Arquivo de log personalizado</h1>
		<div class="entry-meta">
			<span class="entry-date"><a href="https://rafaelbiriba.com/2009/07/02/php-arquivo-de-log-personalizado.html" rel="bookmark"><time class="entry-date" datetime="2009-07-02T23:08:38+00:00">02/07/2009</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="https://rafaelbiriba.com/author/rafael" rel="author">Rafael Biriba</a></span></span>			<span class="comments-link"><a href="https://rafaelbiriba.com/2009/07/02/php-arquivo-de-log-personalizado.html#comments"><span class="dsq-postid" data-dsqidentifier="791 https://rafaelbiriba.com/?p=791">33 Coment√°rios</span></a></span>
					</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		
<p>&nbsp;</p>

<figure id="attachment_186" style="width: 232px" class="wp-caption alignleft"><img class="size-full wp-image-186" title="php-logo-sombra" src="https://rafaelbiriba.com/wp-content/uploads/2009/02/php-logo-sombra.jpg" alt="PHP: http://www.php.net/" width="232" height="196" /><figcaption class="wp-caption-text">PHP: http://www.php.net/</figcaption></figure>
<p style="text-align: justify;">Semana passada, estive fazendo num pequeno site, uma √°rea de login. Foi ent√£o que fiz uma fun√ß√£ozinha no PHP que gera logs di√°rios dos eventos ocorridos desde o login at√© o logoff, como por exemplo, a√ß√µes tomadas pelos usu√°rios na parte administrativa.</p>
<p style="text-align: justify;">Abaixo, voc√™s poder√£o conferir o c√≥digo que utilizei, logicamente adaptado para que fosse publicado aqui.</p>
<p style="text-align: justify;">Os arquivos de log s√£o gerados baseado no dia em que se encontra. Como os arquivos est√£o em formato <strong>.txt</strong>, utilizei um prefixo no arquivo, para que o acesso n√£o seja t√£o √≥bvio por pessoas desautorizadas.</p>
<p style="text-align: justify;">A fun√ß√£o armazena no arquivo a hora da ocorr√™ncia, seguido pelo IP da m√°quina do cliente e a mensagem definida por voc√™.</p>
<p style="text-align: justify;">Vamos ent√£o seguir para o c√≥digo:</p>


<div class="wp_syntax"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="code"><pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
&nbsp;
<span style="color: #990000;">date_default_timezone_set</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'America/Sao_Paulo'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">function</span> Logger<span style="color: #009900;">&#40;</span><span style="color: #000088;">$msg</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>
&nbsp;
<span style="color: #000088;">$data</span> <span style="color: #339933;">=</span> <span style="color: #990000;">date</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;d-m-y&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$hora</span> <span style="color: #339933;">=</span> <span style="color: #990000;">date</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;H:i:s&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$ip</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$_SERVER</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'REMOTE_ADDR'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//Nome do arquivo:</span>
<span style="color: #000088;">$arquivo</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;Logger_<span style="color: #006699; font-weight: bold;">$data</span>.txt&quot;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//Texto a ser impresso no log:</span>
<span style="color: #000088;">$texto</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;[<span style="color: #006699; font-weight: bold;">$hora</span>][<span style="color: #006699; font-weight: bold;">$ip</span>]&gt; <span style="color: #006699; font-weight: bold;">$msg</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$manipular</span> <span style="color: #339933;">=</span> <span style="color: #990000;">fopen</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">$arquivo</span>&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;a+b&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #990000;">fwrite</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$manipular</span><span style="color: #339933;">,</span> <span style="color: #000088;">$texto</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #990000;">fclose</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$manipular</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">?&gt;</span></pre></td></tr></table></div>



<p>Salve o arquivo acima como <strong>logger.php</strong></p>
<p>Na linha <strong>3</strong><strong> </strong> estou declarando o timezone para S√£o Paulo, mesmo estando no Rio de Janeiro, o hor√°rio √© o mesmo. Isso serve para configurar a data para minha localidade, j√° que no meu caso, o servidor se encontra em outro fuso hor√°rio.</p>
<p>Nas linhas <strong>7</strong>, <strong>8</strong> e <strong>9</strong> estou declarando as vari√°veis de data, hora e ip da m√°quina que gerou o log (cliente).</p>
<p>Na linha <strong>12</strong> est√° o nome do arquivo. Ser√° algo do tipo <span style="color: #ff0000;">Logger_19-06-2009.txt</span> (dia-m√™s-ano). Caso deseje armazenar o log em uma pasta j√° existente, altere a linha para:<span style="color: #000000;"> <strong><br />$arquivo = &#8220;<span style="color: #ff0000;">minhapasta/</span>Logger_$data.txt&#8221;;</strong></span></p>
<p>Na linha <strong>17</strong> est√° a fun√ß√£o de abertura do arquivo.¬† Passando o &#8220;a+&#8221; como par√¢metro, apenas nos dias que tiver alguma coisa para ser inserida no log, √© que o arquivo ser√° criado ou se j√° existir, escrever√° o registro no fim do arquivo. O par√¢metro &#8220;b&#8221; serve para quest√µes de portabilidade ( inser√ß√£o recomendado no manual do php )</p>
<p>As linhas <strong>18</strong> e <strong>19</strong> manipulam e fecham o arquivo definido na linha 12.</p>
<p>Agora vamos para o c√≥digo onde vamos utilizar nossa fun√ß√£o:</p>


<div class="wp_syntax"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
&nbsp;
<span style="color: #b1b100;">include</span> <span style="color: #0000ff;">&quot;logger.php&quot;</span><span style="color: #339933;">;</span>
&nbsp;
Logger<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Testando a fun√ß√£o logger !&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
Logger<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Como voc√™ pode ver, estou logando uma informa√ß√£o !&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
Logger<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Teste 1, Teste 2, Teste 3!&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">?&gt;</span></pre></td></tr></table></div>



<p>Salve o arquivo acima como <strong>teste.php</strong> na mesma p√°gina onde se encontra o <span style="color: #ff0000;">logger.php</span>.</p>
<p>Pronto. O Script acima gera 3 sa√≠das consecutivas no seu arquivo de log.<br />Conferindo o resultado: <br />Nome do arquivo gerado:<span style="color: #ff0000;"><br />Logger_19-06-09.txt</span><br />Conte√∫do: <br /><span style="color: #ff0000;">[21:57:36][201.7.xxx.xxx]&gt; Testando a fun√ß√£o logger ! <br />[21:57:36][201.7.xxx.xxx]&gt; Como voc√™ pode ver, estou logando uma informa√ß√£o ! <br />[21:57:36][201.7.xxx.xxx]&gt; Teste 1, Teste 2, Teste 3! </span></p>
<p>Bom, espero que o script sirva para mais algu√©m. üôÇ</p>
<p><strong>===========================================</strong></p>
<p style="text-align: justify;"><strong>Atualiza√ß√£o em 13/abril/2011</strong></p>
<p style="text-align: justify;">A leitora Renata nos coment√°rios de hoje (13/04/11) deixou uma d√∫vida muito boa&#8230; Vale a pena editar a mat√©ria e acrescentar a solu√ß√£o dela aqui&#8230;</p>
<p style="text-align: justify;">Ela estava encontrando problemas para centralizar os arquivos de log em um s√≥ lugar. Ela trabalhava com pastas para organizar seus arquivos, e ao incluir a fun√ß√£o logger nos arquivos, fazia com que os logs fossem gravados separadamente em cada pasta.</p>
<p style="text-align: justify;"><strong>Por que isso ocorreu ? </strong></p>
<p style="text-align: justify;">Ela estava incluindo a fun√ß√£o da maneira correta: <strong><span style="color: #ff0000;">include &#8220;../logger.php&#8221;;</span></strong> mas o problema estava mesmo dentro da fun√ß√£o Logger.</p>
<p style="text-align: justify;">Na vari√°vel $arquivo, onde definimos o nome do arquivo de log, a fun√ß√£o parte do princ√≠pio que o arquivo .txt est√° do lado do arquivo .php que cont√©m a fun√ß√£o&#8230;</p>
<p style="text-align: justify;">Consideremos o seguinte path de diret√≥rios:</p>
<p style="text-align: justify;">/<br />/logs/Logger.txt<br />/logger.php<br />/folder1/pagina1.php</p>
<p style="text-align: justify;">Ao incluir a fun√ß√£o logger de dentro da &#8220;pagina1&#8221;, chamando a fun√ß√£o como a Renata fez (&#8220;../logger.php&#8221;), faz com que ao definir a variavel $arquivo = &#8220;teste.txt&#8221; o PHP vai salvar o arquivo dentro da pasta &#8220;folder1&#8221; pois ele interpreta o codigo a partir daquele contexto.</p>
<p style="text-align: justify;">Para resolver isso, ao entrar na fun√ß√£o Logger, voce precisa mudar o contexto da execu√ß√£o para ele salvar o log corretamente na pasta log (independente de onde ela estiver), e no final da fun√ß√£o, voc√™ precisa voltar o contexto para onde ele estava, para evitar possiveis problemas.</p>
<p style="text-align: justify;">Segue ent√£o o novo c√≥digo que resolve o problema:</p>


<div class="wp_syntax"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="code"><pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span>
&nbsp;
<span style="color: #990000;">date_default_timezone_set</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'America/Sao_Paulo'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">function</span> Logger<span style="color: #009900;">&#40;</span><span style="color: #000088;">$msg</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//pega o path completo de onde esta executanto</span>
<span style="color: #000088;">$caminho_atual</span> <span style="color: #339933;">=</span> <span style="color: #990000;">getcwd</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> 
&nbsp;
<span style="color: #666666; font-style: italic;">//muda o contexto de execu√ß√£o para a pasta logs</span>
<span style="color: #990000;">chdir</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;/home/rafaelbiriba/public_html/logs&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$data</span> <span style="color: #339933;">=</span> <span style="color: #990000;">date</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;d-m-y&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$hora</span> <span style="color: #339933;">=</span> <span style="color: #990000;">date</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;H:i:s&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$ip</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$_SERVER</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'REMOTE_ADDR'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//Nome do arquivo:</span>
<span style="color: #000088;">$arquivo</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;Logger_<span style="color: #006699; font-weight: bold;">$data</span>.txt&quot;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//Texto a ser impresso no log:</span>
<span style="color: #000088;">$texto</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;[<span style="color: #006699; font-weight: bold;">$hora</span>][<span style="color: #006699; font-weight: bold;">$ip</span>]&gt; <span style="color: #006699; font-weight: bold;">$msg</span> <span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$manipular</span> <span style="color: #339933;">=</span> <span style="color: #990000;">fopen</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">$arquivo</span>&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;a+b&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #990000;">fwrite</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$manipular</span><span style="color: #339933;">,</span> <span style="color: #000088;">$texto</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #990000;">fclose</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$manipular</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #666666; font-style: italic;">//Volta o contexto de execu√ß√£o para o caminho em que estava antes</span>
<span style="color: #990000;">chdir</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caminho_atual</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">?&gt;</span></pre></td></tr></table></div>




<div class="wp_rp_wrap  wp_rp_plain" id="wp_rp_first"><div class="wp_rp_content"><h3 class="related_post_title">Leia tamb√©m:</h3><ul class="related_post wp_rp"><li data-position="0" data-poid="in-188" data-post-type="none" ><small class="wp_rp_publish_date">27/02/2009</small> <a href="https://rafaelbiriba.com/2009/02/27/php-ocultando-erros-de-codigo.html" class="wp_rp_title">PHP: Ocultando erros de c√≥digo</a></li><li data-position="1" data-poid="in-1810" data-post-type="none" ><small class="wp_rp_publish_date">24/12/2009</small> <a href="https://rafaelbiriba.com/2009/12/24/feliz-ano-novo-com-javascript.html" class="wp_rp_title">Feliz ano novo com javascript !</a></li><li data-position="2" data-poid="in-549" data-post-type="none" ><small class="wp_rp_publish_date">02/05/2009</small> <a href="https://rafaelbiriba.com/2009/05/02/qr-code-gere-com-o-google-chart-api.html" class="wp_rp_title">QR Code: Gere com o Google Chart API</a></li><li data-position="3" data-poid="in-2271" data-post-type="none" ><small class="wp_rp_publish_date">24/09/2010</small> <a href="https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html" class="wp_rp_title">Net-sftp: Solu√ß√£o para timeout durante o upload</a></li><li data-position="4" data-poid="in-2337" data-post-type="none" ><small class="wp_rp_publish_date">18/11/2010</small> <a href="https://rafaelbiriba.com/2010/11/18/net-sftp-calculando-o-progresso-do-upload.html" class="wp_rp_title">Net-SFTP: Calculando o progresso do upload</a></li></ul><div class="wp_rp_footer"><a class="wp_rp_backlink" target="_blank" href="http://www.zemanta.com/?wp-related-posts" rel="nofollow">Zemanta</a></div></div></div>
<div class="addtoany_share_save_container addtoany_content_bottom"><div class="a2a_kit a2a_kit_size_32 addtoany_list a2a_target" id="wpa2a_1"><a class="a2a_button_facebook_like addtoany_special_service" data-href="https://rafaelbiriba.com/2009/07/02/php-arquivo-de-log-personalizado.html"></a><a class="a2a_button_twitter_tweet addtoany_special_service" data-url="https://rafaelbiriba.com/2009/07/02/php-arquivo-de-log-personalizado.html" data-text="PHP: Arquivo de log personalizado"></a><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2009%2F07%2F02%2Fphp-arquivo-de-log-personalizado.html&amp;linkname=PHP%3A%20Arquivo%20de%20log%20personalizado" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2009%2F07%2F02%2Fphp-arquivo-de-log-personalizado.html&amp;linkname=PHP%3A%20Arquivo%20de%20log%20personalizado" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_dd addtoany_share_save" href="https://www.addtoany.com/share"><img src="https://rafaelbiriba.com/wp-content/plugins/add-to-any/share_save_171_16.png" width="171" height="16" alt="Share"/></a>
<script type="text/javascript"><!--
if(wpa2a)wpa2a.script_load();
//--></script>
</div></div>	</div><!-- .entry-content -->
	
	<footer class="entry-meta"><span class="tag-links"><a href="https://rafaelbiriba.com/tag/codigo" rel="tag">codigo</a><a href="https://rafaelbiriba.com/tag/historico" rel="tag">historico</a><a href="https://rafaelbiriba.com/tag/log" rel="tag">log</a><a href="https://rafaelbiriba.com/tag/logger" rel="tag">logger</a><a href="https://rafaelbiriba.com/tag/php" rel="tag">PHP</a><a href="https://rafaelbiriba.com/tag/registro" rel="tag">registro</a></span></footer></article><!-- #post-## -->
	<nav class="navigation post-navigation" role="navigation">
		<h1 class="screen-reader-text">Navega√ß√£o de posts</h1>
		<div class="nav-links">
			<a href="https://rafaelbiriba.com/2009/06/27/wordpress-spams-e-mais-spams.html" rel="prev"><span class="meta-nav">Post anterior</span>WordPress: Spams e mais Spams !</a><a href="https://rafaelbiriba.com/2009/07/14/liberdade-aos-desenvolvedores-atualize-seu-navegador.html" rel="next"><span class="meta-nav">Pr√≥ximo post</span>Liberdade aos desenvolvedores: Atualize seu Navegador</a>		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	<div id="fbSEOComments">	<fb:comments
                                id='seoFacebookCommentsPlugin'
								href='https://rafaelbiriba.com/2009/07/02/php-arquivo-de-log-personalizado.html'
								num_posts='10'
								colorscheme='light'
								order_by=''></fb:comments></div><div id='fb-root'></div>
                    <script>
                            window.fbAsyncInit = function() {
                                FB.init({
                                  appId      : '589867447707428', // App ID
                                  status     : true, // check login status
                                  cookie     : true, // enable cookies to allow the server to access the session
                                  xfbml      : true  // parse XFBML
                                });
                                // Additional initialization code here
                              };
                                //  Load the SDK Asynchronously
                              (function(d){
                                 var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
                                 if (d.getElementById(id)) {return;}
                                 js = d.createElement('script'); js.id = id; js.async = true;
                                 js.src = "//connect.facebook.net/pt_BR/all.js";
                                 ref.parentNode.insertBefore(js, ref);
                           }(document))
                    </script>
<div id="disqus_thread">
            <div id="dsq-content">


            <ul id="dsq-comments">
                    <li class="comment even thread-even depth-1" id="dsq-comment-245">
        <div id="dsq-comment-header-245" class="dsq-comment-header">
            <cite id="dsq-cite-245">
                <a id="dsq-author-user-245" href="http://www.natanielsantos.com.br/eventos" target="_blank" rel="nofollow">Nataniel Santos</a>
            </cite>
        </div>
        <div id="dsq-comment-body-245" class="dsq-comment-body">
            <div id="dsq-comment-message-245" class="dsq-comment-message"><p>Show de bola esse seu c√≥digo, o unico q encontrei e funcionou 100%, agora vem a d√∫vida. Gostaria de colocar as seguintes msgs. [21:57:36][201.7.xxx.xxx]&gt; FULANO DE TAL logou na p√°gina !<br />
[22:03:14][201.7.xxx.xxx]&gt; FULANO DE TAL fechou sess√£o!</p>
<p>Se puder ajudar pelo menos como fazer o nome do usu√°rio aparecer ja agrade√ßo d++&#8230; tentei colocar sess√£o e um monte de gambiarra mas nada deu&#8230; üôÅ</p>
<p>Abra√ßo</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-rafael bypostauthor odd alt thread-odd thread-alt depth-1" id="dsq-comment-249">
        <div id="dsq-comment-header-249" class="dsq-comment-header">
            <cite id="dsq-cite-249">
                <a id="dsq-author-user-249" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-249" class="dsq-comment-body">
            <div id="dsq-comment-message-249" class="dsq-comment-message"><p>Ol√° Nataniel,</p>
<p>Que bom que funcionou como o desejado !<br />
Vamos ver se condigo ajud√°-lo:</p>
<p>No seu c√≥digo php, antes de voc√™ redirecionar o &#8220;Fulano de Tal&#8221; para a &#8220;√°rea restrita&#8221;, coloque o seguinte c√≥digo:</p>
<p><strong>Logger(&#8220;FULANO DE TAL logou na p√°gina !&#8221;);<br />
</strong></p>
<p>E na p√°gina onde voc√™ vai processar o logoff, ou o t√©rmino da sess√£o, coloque:</p>
<p><strong>Logger(&#8220;FULANO DE TAL fechou sess√£o!&#8221;);<br />
</strong></p>
<p>Sua d√∫vida √© essa mesmo ?</p>
<p>Obrigado pela visita e volte sempre !</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-252">
        <div id="dsq-comment-header-252" class="dsq-comment-header">
            <cite id="dsq-cite-252">
                <a id="dsq-author-user-252" href="http://www.natanielsantos.com.br/eventos" target="_blank" rel="nofollow">Nataniel Santos</a>
            </cite>
        </div>
        <div id="dsq-comment-body-252" class="dsq-comment-body">
            <div id="dsq-comment-message-252" class="dsq-comment-message"><p>Quase&#8230; se fosse s√≥ isso seria f√°cil! Tenho 300 usu√°rios cadastrados, ent√£o qro que no log de acesso apare√ßa cada usu√°rio q logou na p√°gina&#8230; exemplo:</p>
<p>[22:03:14][201.7.xxx.xxx]&gt; Rafael logou no site!<br />
[22:43:58][201.7.xxx.xxx]&gt; Jeff logou no site!<br />
[23:07:35][201.7.xxx.xxx]&gt; Tulio logou no site!</p>
<p>Vlw!</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-2" id="dsq-comment-83543">
        <div id="dsq-comment-header-83543" class="dsq-comment-header">
            <cite id="dsq-cite-83543">
                <span id="dsq-author-user-83543">Rafaelo Munhoz</span>
            </cite>
        </div>
        <div id="dsq-comment-body-83543" class="dsq-comment-body">
            <div id="dsq-comment-message-83543" class="dsq-comment-message"><p>BOa Tarde.. Para conseguir o que voc√™ quer, utilize a quest√£o de sess√£o</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment byuser comment-author-rafael bypostauthor even thread-odd thread-alt depth-1" id="dsq-comment-253">
        <div id="dsq-comment-header-253" class="dsq-comment-header">
            <cite id="dsq-cite-253">
                <a id="dsq-author-user-253" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-253" class="dsq-comment-body">
            <div id="dsq-comment-message-253" class="dsq-comment-message"><p>Ol√° Nataniel,</p>
<p>Mas √© s√≥ isso, basta inserir a fun√ß√£o logger nos lugares certos&#8230; </p>
<p>Para isso voc√™ deve analisar seu c√≥digo para saber o lugar mais adequado para coloca-los !</p>
<p>Abra√ßos,</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-1813">
        <div id="dsq-comment-header-1813" class="dsq-comment-header">
            <cite id="dsq-cite-1813">
                <span id="dsq-author-user-1813">Rodrigo</span>
            </cite>
        </div>
        <div id="dsq-comment-body-1813" class="dsq-comment-body">
            <div id="dsq-comment-message-1813" class="dsq-comment-message"><p>Muito bom mesmo esse seu codigo agora eu tenho uma duvida como e que eu fa√ßo para consultar os dados gerados pelo log e outra duvida como e que eu fa√ßo pra colocar o que o usuario fez tipo fulano de tal cadastro<br />
fulano de tal deleto</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-rafael bypostauthor even thread-odd thread-alt depth-1" id="dsq-comment-1814">
        <div id="dsq-comment-header-1814" class="dsq-comment-header">
            <cite id="dsq-cite-1814">
                <a id="dsq-author-user-1814" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-1814" class="dsq-comment-body">
            <div id="dsq-comment-message-1814" class="dsq-comment-message"><p>Ol√° Rodrigo,</p>
<p>Voc√™ pode acessar o arquivo de log na mesma pasta que roda o php&#8230;  voc√™ pode gravar em outra pasta conforme mostro abaixo:<br />
<strong><br />
$arquivo = &#8220;../logs/Logger_$data.txt&#8221;;<br />
</strong></p>
<p>Para logar que um usu√°rio se cadastrou veja em:<br />
<a href="https://rafaelbiriba.com/2009/07/02/php-arquivo-de-log-personalizado.html#comment-249" rel="nofollow">https://rafaelbiriba.com/2009/07/02/php-arquivo-de-log-personalizado.html#comment-249</a><br />
No seu php, onde voc√™ grava o usu√°rio, basta incluir o logger e chamar a fun√ß√£o, como mostro no exemplo que passei&#8230;</p>
<p>Boa sorte,<br />
Abra√ßos,</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-5864">
        <div id="dsq-comment-header-5864" class="dsq-comment-header">
            <cite id="dsq-cite-5864">
                <span id="dsq-author-user-5864">Marcelo Grimberg</span>
            </cite>
        </div>
        <div id="dsq-comment-body-5864" class="dsq-comment-body">
            <div id="dsq-comment-message-5864" class="dsq-comment-message"><p>Ol√° esse exemplo da para fazer na hora de consultar, atualizar e deletar ??</p>
<p>Obrigado</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-5865">
        <div id="dsq-comment-header-5865" class="dsq-comment-header">
            <cite id="dsq-cite-5865">
                <span id="dsq-author-user-5865">Marcelo Grimberg</span>
            </cite>
        </div>
        <div id="dsq-comment-body-5865" class="dsq-comment-body">
            <div id="dsq-comment-message-5865" class="dsq-comment-message"><p>Rafael </p>
<p>Um seguinte a principio funcionou corretamente, mas fiz uma pequena mudan√ßa </p>
<p>na minha p√°gina  executar.php  (onde esta localizado insert, update e delete)<br />
como deve colocar o teste.php apenas registrar inserir ??</p>
<p>abaixo c√≥digo<br />
[code]<br />
if($_GET[ &#8216;funcao&#8217; ] == &#8220;insert&#8221;){</p>
<p>$sql_gravar = mysql_query(&#8220;insert into petshop_peteka.cliente (nome, endereco, cep, cidade, estado, telefone, rg, cpf, email, datanasc, civil, sexo, naturalidade ) values (&#8216;$grava_nome&#8217;, &#8216;$grava_endereco&#8217;, &#8216;$grava_cep&#8217;, &#8216;$grava_cidade&#8217;, &#8216;$grava_estado&#8217;, &#8216;$grava_telefone&#8217;, &#8216;$grava_rg&#8217;, &#8216;$grava_cpf&#8217;, &#8216;$grava_email&#8217;, &#8216;$grava_datanasc&#8217;, &#8216;$grava_estadocivil&#8217;, &#8216;$grava_sexo&#8217;, &#8216;$grava_naturalidade&#8217;)&#8221;);<br />
echo &#8220;alert(&#8216;Cadastro realizado com sucesso&#8217;);window.location=&#8217;form.php'&#8221;;<br />
}<br />
[/code]</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment byuser comment-author-rafael bypostauthor odd alt thread-even depth-1" id="dsq-comment-5871">
        <div id="dsq-comment-header-5871" class="dsq-comment-header">
            <cite id="dsq-cite-5871">
                <a id="dsq-author-user-5871" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-5871" class="dsq-comment-body">
            <div id="dsq-comment-message-5871" class="dsq-comment-message"><p>Ol√° Marcelo,<br />
Para loggar as informa√ß√µes, basta inserir o arquivo logger.php em sua p√°gina executar.php e depois chamas a fun√ß√£o Logger&#8230;</p>
<p>Baseado no trecho de c√≥digo que voc√™ passou, segue o exemplo (em negrito a parte que eu adicionei):</p>
<p><i><br />
<strong>include &#8220;logger.php&#8221;;</strong></p>
<p>if($_GET[ &#8216;funcao&#8217; ] == &#8220;insert&#8221;){<br />
<strong>Logger(&#8220;Gravando dados no banco referente ao nome: $grava_nome&#8221;);</strong></p>
<p>$sql_gravar = mysql_query(&#8220;insert into petshop_peteka.cliente (nome, endereco, cep, cidade, estado, telefone, rg, cpf, email, datanasc, civil, sexo, naturalidade ) values (&#8216;$grava_nome&#8217;, &#8216;$grava_endereco&#8217;, &#8216;$grava_cep&#8217;, &#8216;$grava_cidade&#8217;, &#8216;$grava_estado&#8217;, &#8216;$grava_telefone&#8217;, &#8216;$grava_rg&#8217;, &#8216;$grava_cpf&#8217;, &#8216;$grava_email&#8217;, &#8216;$grava_datanasc&#8217;, &#8216;$grava_estadocivil&#8217;, &#8216;$grava_sexo&#8217;, &#8216;$grava_naturalidade&#8217;)&#8221;);<br />
echo &#8220;alert(&#8216;Cadastro realizado com sucesso&#8217;);window.location=&#8217;form.php'&#8221;;<br />
}<br />
</i></p>
<p>Conseguiu entender? Basta importar (usando o include) o arquivo que contem a fun√ß√£o e chamar ela durante o seu arquivo&#8230;</p>
<p>Dica: Para evitar que voc√™ inclua muitas vezes o mesmo arquivo, ao inv√©s de usar include, voc√™ pode usar include_once !!</p>
<p>Abra√ßos,</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-5873">
        <div id="dsq-comment-header-5873" class="dsq-comment-header">
            <cite id="dsq-cite-5873">
                <span id="dsq-author-user-5873">Marcelo Grimberg</span>
            </cite>
        </div>
        <div id="dsq-comment-body-5873" class="dsq-comment-body">
            <div id="dsq-comment-message-5873" class="dsq-comment-message"><p>Rafa,</p>
<p>Obrigado, por responder e dando uma for√ßa, funcionou mas esse que voc√™ passou esta dando erro de sintaxe, ent√£o fiz assim:</p>
<p>funciou esse c√≥digo no executar.php</p>
<p>$logger = Logger_insert($msg); </p>
<p>onde Logger passei usar Logger_insert<br />
e para gravar usei essa sintaxe no seu exemplo era teste.php passei chamar log_insert.php</p>
<p>abra√ßos</p>
<p>Muito obrigado pela ajuda.</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-5883">
        <div id="dsq-comment-header-5883" class="dsq-comment-header">
            <cite id="dsq-cite-5883">
                <a id="dsq-author-user-5883" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-5883" class="dsq-comment-body">
            <div id="dsq-comment-message-5883" class="dsq-comment-message"><p>Que bom que conseguiu&#8230;<br />
N√£o deve ter funcionado porque o arquivo da fun√ß√£o logger estava com outro nome&#8230;</p>
<p>S√≥ um detalhe: na linha abaixo, voc√™ n√£o precisa jogar numa vari√°vel n√£o&#8230;<br />
$logger = Logger_insert($msg);</p>
<p>Se voc√™ executar da forma abaixo, deveria funcionar, porque a fun√ß√£o logger n√£o retorna nada, ent√£o n√£o precisa jogar numa vari√°vel&#8230;<br />
 Logger_insert($msg);</p>
<p>Abra√ßos,</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-11065">
        <div id="dsq-comment-header-11065" class="dsq-comment-header">
            <cite id="dsq-cite-11065">
                <a id="dsq-author-user-11065" href="http://www.regratecnologia.com.br" target="_blank" rel="nofollow">Renata</a>
            </cite>
        </div>
        <div id="dsq-comment-body-11065" class="dsq-comment-body">
            <div id="dsq-comment-message-11065" class="dsq-comment-message"><p>Nossa!! Pq s√≥ o meu n√£o funciona???</p>
<p>Ôªø<br />
Warning: fopen(Logger_12-04-11.txt) [function.fopen]: failed to open stream: Permission denied in /home/regratecnologia/www/siesa/logger.php on line 17</p>
<p>Warning: fwrite(): supplied argument is not a valid stream resource in /home/regratecnologia/www/siesa/logger.php on line 18</p>
<p>Warning: fclose(): supplied argument is not a valid stream resource in /home/regratecnologia/www/siesa/logger.php on line 19</p>
<p>Warning: fopen(Logger_12-04-11.txt) [function.fopen]: failed to open stream: Permission denied in /home/regratecnologia/www/siesa/logger.php on line 17</p>
<p>Warning: fwrite(): supplied argument is not a valid stream resource in /home/regratecnologia/www/siesa/logger.php on line 18</p>
<p>Warning: fclose(): supplied argument is not a valid stream resource in /home/regratecnologia/www/siesa/logger.php on line 19</p>
<p>Warning: fopen(Logger_12-04-11.txt) [function.fopen]: failed to open stream: Permission denied in /home/regratecnologia/www/siesa/logger.php on line 17</p>
<p>Warning: fwrite(): supplied argument is not a valid stream resource in /home/regratecnologia/www/siesa/logger.php on line 18</p>
<p>Warning: fclose(): supplied argument is not a valid stream resource in /home/regratecnologia/www/siesa/logger.php on line 19</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-rafael bypostauthor odd alt depth-2" id="dsq-comment-11071">
        <div id="dsq-comment-header-11071" class="dsq-comment-header">
            <cite id="dsq-cite-11071">
                <a id="dsq-author-user-11071" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-11071" class="dsq-comment-body">
            <div id="dsq-comment-message-11071" class="dsq-comment-message"><p>Ol√° Renata,</p>
<p>Acho que voc√™ est√° com problemas de permiss√£o de escrita&#8230;</p>
<p>O seu web server (exemplo: apache) n√£o est√° com permiss√£o de abrir o arquivo e escrever o log&#8230;</p>
<p>Tente dar um chmod para dar permissao de leitura e escrita neste arquivo, ou mude o dono do arquivo (chown), para que seja o mesmo usu√°rio que o apache est√° rodando&#8230;</p>
<p>Abra√ßos,</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-3" id="dsq-comment-11125">
        <div id="dsq-comment-header-11125" class="dsq-comment-header">
            <cite id="dsq-cite-11125">
                <a id="dsq-author-user-11125" href="http://www.regratecnologia.com.br" target="_blank" rel="nofollow">Renata</a>
            </cite>
        </div>
        <div id="dsq-comment-body-11125" class="dsq-comment-body">
            <div id="dsq-comment-message-11125" class="dsq-comment-message"><p>Ol√°, Rafael!</p>
<p>√â verdade! Desculpe a falta de aten√ß√£o (e inexperiencia). Resolvido! Muito obrigada!!!</p>
<p>Aproveitando&#8230; O arquivo logger.php indica uma pasta &#8220;LOG&#8221; para salvar os arquivos. Se chamarmos essa fun√ß√£o em uma pasta diferente, os arquivos ser√£o gravados nesta outra pasta. N√£o d√° pra deixar tudo sendo salvo em uma √∫nica pasta do diret√≥rio?</p>
<p>Mais uma vez, obrigada!</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-4" id="dsq-comment-11127">
        <div id="dsq-comment-header-11127" class="dsq-comment-header">
            <cite id="dsq-cite-11127">
                <a id="dsq-author-user-11127" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-11127" class="dsq-comment-body">
            <div id="dsq-comment-message-11127" class="dsq-comment-message"><p>Bom,</p>
<p>voc√™ pode especificar uma pasta para ele colocar todos os logs dentro&#8230; Essa pasta tem que estar no mesmo nivel diret√≥rio do arquivo logger.php. </p>
<p>Se estiver em outro lugar, basta especificar o onde o arquivo .txt est√°, em rela√ß√£o a localiza√ß√£o do arquivo logger.php Exemplo:<br />
<strong>$arquivo = ‚Äú../../pasta1/logs/Logger_$data.txt‚Äù;</strong></p>
<p>Para chamar a fun√ß√£o logger em arquivos em outros diretorios, na hora de voce incluir usando <strong>include &#8220;logger.php&#8221;;</strong> voce deve sempre fazer referencia para onde o arquivo de logger.php est√° a partir do caminho atual&#8230;</p>
<p>Se o arquivo que voce esta editando estiver dentro de outra pasta, voce pode incluir a fun√ß√£o logger voltando os diretorios. Exemplo: include &#8220;../../../logger.php&#8221;;</p>
<p>Deu para compreender ? Acho que ficou meio confuso&#8230;</p>
<p>Abra√ßos,</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-5" id="dsq-comment-11128">
        <div id="dsq-comment-header-11128" class="dsq-comment-header">
            <cite id="dsq-cite-11128">
                <a id="dsq-author-user-11128" href="http://www.regratecnologia.com.br" target="_blank" rel="nofollow">Renata</a>
            </cite>
        </div>
        <div id="dsq-comment-body-11128" class="dsq-comment-body">
            <div id="dsq-comment-message-11128" class="dsq-comment-message"><p>Ent√£o&#8230; isso tudo eu fiz direitinho&#8230; o include est√° apontando de acordo com a localiza√ß√£o do logger.php certinho. S√≥ que assim: Se eu chamar a fun√ß√£o em uma pasta de um subdiret√≥rio, o arquivo ser√° guardado l√°, e n√£o na pasta LOG.</p>
<p>Ex.: Log/logger.php<br />
chamo a fun√ß√£o logger() no Comercial/cliente/cadastro.php</p>
<p>O arquivo ser√° salvo assim:<br />
Comercial/cliente/logger_13-04-2011 e eu queria que fosse salvo em Log/logger_13-04-2011.</p>
<p>Desculpe, n√£o sei se fui clara.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-6" id="dsq-comment-11129">
        <div id="dsq-comment-header-11129" class="dsq-comment-header">
            <cite id="dsq-cite-11129">
                <a id="dsq-author-user-11129" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-11129" class="dsq-comment-body">
            <div id="dsq-comment-message-11129" class="dsq-comment-message"><p>O arquivo logger.php est√° exatamente igual ao exemplo acima ?</p>
<p>Voc√™ seguiu essa recomenda√ß√£o:<br />
Na linha 12 est√° o nome do arquivo. Ser√° algo do tipo Logger_19-06-2009.txt (dia-m√™s-ano). Caso deseje armazenar o log em uma pasta j√° existente, altere a linha para:<br />
$arquivo = ‚Äúminhapasta/Logger_$data.txt‚Äù;</p>
<p>Fico no aguardo&#8230;</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-7" id="dsq-comment-11130">
        <div id="dsq-comment-header-11130" class="dsq-comment-header">
            <cite id="dsq-cite-11130">
                <a id="dsq-author-user-11130" href="http://www.regratecnologia.com.br" target="_blank" rel="nofollow">Renata</a>
            </cite>
        </div>
        <div id="dsq-comment-body-11130" class="dsq-comment-body">
            <div id="dsq-comment-message-11130" class="dsq-comment-message"><p>N√£o √© bem isso&#8230; mas desisti de tentar salvar tudo numa √∫nica pasta.</p>
<p>Estou salvando em pastas separadas, conforme voc√™ descreveu acima. </p>
<p>Assim:<br />
financeiro/logs/logger_13-04-11.php<br />
comercial/logs/logger_13-04-11.php<br />
manutencao/logs/logger_13-04-11.php<br />
login/logs/logger_13-04-11.php</p>
<p>Rafael,<br />
Muito obrigada pela ajuda e aten√ß√£o. E parab√©ns pelo site!</p>
</div>
        </div>

    <ul class="children">
    <li class="comment odd alt depth-8" id="dsq-comment-11131">
        <div id="dsq-comment-header-11131" class="dsq-comment-header">
            <cite id="dsq-cite-11131">
                <a id="dsq-author-user-11131" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-11131" class="dsq-comment-body">
            <div id="dsq-comment-message-11131" class="dsq-comment-message"><p>Tem certeza que prefere deixar assim ?</p>
<p>Se quiser, entra no bate-papo (na barra azul abaixo)&#8230;</p>
<p>Estou online agora, talvez possa te ajudar melhor por la&#8230;</p>
<p>Abra√ßos,</p>
</div>
        </div>

    <ul class="children">
    <li class="comment even depth-9" id="dsq-comment-11133">
        <div id="dsq-comment-header-11133" class="dsq-comment-header">
            <cite id="dsq-cite-11133">
                <a id="dsq-author-user-11133" href="http://www.regratecnologia.com.br" target="_blank" rel="nofollow">Renata</a>
            </cite>
        </div>
        <div id="dsq-comment-body-11133" class="dsq-comment-body">
            <div id="dsq-comment-message-11133" class="dsq-comment-message"><p>Entrei.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-even depth-1" id="dsq-comment-11137">
        <div id="dsq-comment-header-11137" class="dsq-comment-header">
            <cite id="dsq-cite-11137">
                <a id="dsq-author-user-11137" href="http://www.regratecnologia.com.br" target="_blank" rel="nofollow">Renata</a>
            </cite>
        </div>
        <div id="dsq-comment-body-11137" class="dsq-comment-body">
            <div id="dsq-comment-message-11137" class="dsq-comment-message"><p>Deu certo!!! Nossa! Nem acredito que eu ia desistir!</p>
<p>Valeu mesmo pela ajuda, pela aten√ß√£o e pela boa vontade. E desculpe pela minha inexperi√™ncia.</p>
<p>Coloca a√≠ o resultado para caso algu√©m tenha a mesma necessidade.</p>
<p>Obrigada!!!</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-rafael bypostauthor even depth-2" id="dsq-comment-11139">
        <div id="dsq-comment-header-11139" class="dsq-comment-header">
            <cite id="dsq-cite-11139">
                <a id="dsq-author-user-11139" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-11139" class="dsq-comment-body">
            <div id="dsq-comment-message-11139" class="dsq-comment-message"><p>Mat√©ria atualizada com a resolu√ß√£o do seu problema&#8230;</p>
<p>Obrigado por visitar o blog üòâ</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-45252">
        <div id="dsq-comment-header-45252" class="dsq-comment-header">
            <cite id="dsq-cite-45252">
                <span id="dsq-author-user-45252">Cairo</span>
            </cite>
        </div>
        <div id="dsq-comment-body-45252" class="dsq-comment-body">
            <div id="dsq-comment-message-45252" class="dsq-comment-message"><p>Ol√°, desculpem a minha ignor√¢ncia mais, pra que serve esse script? √â s√≥ pra armazenar o IP de quem loga, √© isso?</p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-47071">
        <div id="dsq-comment-header-47071" class="dsq-comment-header">
            <cite id="dsq-cite-47071">
                <span id="dsq-author-user-47071">Antonio</span>
            </cite>
        </div>
        <div id="dsq-comment-body-47071" class="dsq-comment-body">
            <div id="dsq-comment-message-47071" class="dsq-comment-message"><p>Como fazer para que os log sejem salvos no mesmo arquivo txt?<br />
A fun√ß√£o abriria o mesmo arquivo, somente inserindo os dados retirados do session, cada usuario diferente seria escrito numa nova linha.</p>
<p>Desja agrade√ßo a ajuda.</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-rafael bypostauthor odd alt depth-2" id="dsq-comment-47073">
        <div id="dsq-comment-header-47073" class="dsq-comment-header">
            <cite id="dsq-cite-47073">
                <a id="dsq-author-user-47073" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-47073" class="dsq-comment-body">
            <div id="dsq-comment-message-47073" class="dsq-comment-message"><p>Implementa o exemplo pra voc√™ entender&#8230; A fun√ß√£o vai abrir o mesmo arquivo de log e adicionar uma nova linha ao final dele toda vez que voc√™ chamar a fun√ß√£o de logger&#8230; üôÇ</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-47330">
        <div id="dsq-comment-header-47330" class="dsq-comment-header">
            <cite id="dsq-cite-47330">
                <span id="dsq-author-user-47330">Caio</span>
            </cite>
        </div>
        <div id="dsq-comment-body-47330" class="dsq-comment-body">
            <div id="dsq-comment-message-47330" class="dsq-comment-message"><p>no arquivo .txt gerado fica gravado o texto na mesma linha, teria como ficar um em cada linha?</p>
</div>
        </div>

    <ul class="children">
    <li class="comment byuser comment-author-rafael bypostauthor odd alt depth-2" id="dsq-comment-47331">
        <div id="dsq-comment-header-47331" class="dsq-comment-header">
            <cite id="dsq-cite-47331">
                <a id="dsq-author-user-47331" href="https://rafaelbiriba.com/blogwp.html" target="_blank" rel="nofollow">Rafael Biriba</a>
            </cite>
        </div>
        <div id="dsq-comment-body-47331" class="dsq-comment-body">
            <div id="dsq-comment-message-47331" class="dsq-comment-message"><p>Acredito que um \n ao final da linha deve resolver o problema.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-63014">
        <div id="dsq-comment-header-63014" class="dsq-comment-header">
            <cite id="dsq-cite-63014">
                <span id="dsq-author-user-63014">Felipe</span>
            </cite>
        </div>
        <div id="dsq-comment-body-63014" class="dsq-comment-body">
            <div id="dsq-comment-message-63014" class="dsq-comment-message"><p>Obrigado, por compartilhar&#8230; Serviu como uma luga em um projeto que estou fazendo. Obrigao.</p>
</div>
        </div>

    </li><!-- #comment-## -->
</li><!-- #comment-## -->
</li><!-- #comment-## -->
    <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-251281">
        <div id="dsq-comment-header-251281" class="dsq-comment-header">
            <cite id="dsq-cite-251281">
                <a id="dsq-author-user-251281" href="http://www.topchaos.com" target="_blank" rel="nofollow">Lucas</a>
            </cite>
        </div>
        <div id="dsq-comment-body-251281" class="dsq-comment-body">
            <div id="dsq-comment-message-251281" class="dsq-comment-message"><p>Ol√°, tenho um servidor de um jogo e tem bastante  players, meu objetivo √© colocar no site uma lista com rolagem dos logs ,  quando um player abre uma chest no jogo, no system mostra que ele abriu tal chest e ganhou tal item, tenho o arquivo de logs que mostra tudo exemplo : [o3/07/2016 09:14:04] Event Box  Received the award! 1x Ash lance apparel chest], queria colocar isso no meu website  e mostrar em uma lista com rolagem os players que abriu as chests igual nos logs , acho que o seu script acima da para fazer isso por√©m queria saber  como posso colocar isso em uma lista com rolagem, poderia me ajudar? , se nao for muito incomodo. ficarei muito grato meu email √© <a href="mailto:lucaslr216@gmail.com">lucaslr216@gmail.com</a></p>
</div>
        </div>

    </li><!-- #comment-## -->
    <li class="comment even thread-even depth-1" id="dsq-comment-253235">
        <div id="dsq-comment-header-253235" class="dsq-comment-header">
            <cite id="dsq-cite-253235">
                <span id="dsq-author-user-253235">Jonny</span>
            </cite>
        </div>
        <div id="dsq-comment-body-253235" class="dsq-comment-body">
            <div id="dsq-comment-message-253235" class="dsq-comment-message"><p>Ol√°, </p>
<p>Em quais arquivos incluo esse c√≥digo?</p>
<p>Tenho um arquivo para logar na √°rea restrita, tenho um arquivo para validar a sess√£o</p>
</div>
        </div>

    </li><!-- #comment-## -->
            </ul>


        </div>

    </div>

		</div><!-- #content -->
	</div><!-- #primary -->

<div id="content-sidebar" class="content-sidebar widget-area" role="complementary">
	<aside id="text-569858663" class="widget widget_text">			<div class="textwidget"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- vertical blog -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-9952848327781387"
     data-ad-slot="7274679989"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
		</aside></div><!-- #content-sidebar -->
<div id="secondary">
		<h2 class="site-description">Tecnologia e informa√ß√£o no lugar certo !</h2>
	
	
		<div id="primary-sidebar" class="primary-sidebar widget-area" role="complementary">
		<aside id="text-569858664" class="widget widget_text"><h1 class="widget-title">Blog Desatualizado</h1>			<div class="textwidget">Depois de muitos anos, est√° na hora de mudar!
Em breve um novo blog, muito melhor e com mais conte√∫do!
Se voc√™ est√° lendo isso, tente acessar <a href="https://rafaelbiriba.com/blog" target="_blank">https://rafaelbiriba.com/blog</a> para ver se o novo blog j√° est√° dispon√≠vel!! :)
Previs√£o de ir online: Agosto/2016</div>
		</aside><aside id="text-347930551" class="widget widget_text"><h1 class="widget-title">Sobre o Autor</h1>			<div class="textwidget"><img alt="" src="https://1.gravatar.com/avatar/908bb0e461d553752af1df7c5849df52?s=80&amp;d=&amp;r=G" class="avatar avatar-42 photo" height="80" width="80">
<div style="text-align: justify;"><strong>Rafael Biriba</strong>: Full Stack Web Developer since 2008 with experience in the development field using technologies like Ruby on Rails, PHP, HTML5, Javascript (Jquery / Backbone.js), Video encoding and delivery (Flash Media Server, Wowza, ffmpeg tools), Database SQL and NoSQL (Mysql, MongoDB, Redis), Virtualization and automation using virtualbox. With knowledge of development techniques and practices such as TDD, Domain Driven Design and Object Oriented Design.</div></div>
		</aside><aside id="github-profile-2" class="widget widget_github-profile"><aside><h1 class="widget-title">Github</h1><div class="github-widget" id="github-profile-2"><header class="github-widget-header"><img class="github-widget-company-logo" title="GitHub" src="https://assets-cdn.github.com/favicon.ico"/><div class="github-widget-header-text"><a class="github-widget-header-link" target="_blank" href="https://github.com/rafaelbiriba" title="View profile">rafaelbiriba (Rafael Biriba)</a></div></header><div class="github-widget-content"><a target="_blank" href="https://github.com/rafaelbiriba" title="View profile"><img class="github-profile-pic" src="https://avatars.githubusercontent.com/u/324743?v=3" style="border-radius: 5px"> <span class="github-names"> <p class="github-name">Rafael Biriba</p> <span class="github-username">rafaelbiriba</span> </span></a><div class="github-block github-vcard-stats"><a class="github-vcard-stat" target='_blank' href="https://github.com/rafaelbiriba/followers"><strong class="github-vcard-stat-count">30</strong><span class="text-muted">Followers</span></a><a class="github-vcard-stat" target='_blank' href="https://github.com/rafaelbiriba/following"><strong class="github-vcard-stat-count">9</strong><span class="text-muted">Following</span></a><div style="clear: both;"></div></div> </div></div></aside></aside><aside id="tag_cloud-2" class="widget widget_tag_cloud"><h1 class="widget-title">Nuvem de Tags</h1><div class="tagcloud"><a href='https://rafaelbiriba.com/tag/904' class='tag-link-127 tag-link-position-1' title='5 t√≥picos' style='font-size: 8pt;'>9.04</a>
<a href='https://rafaelbiriba.com/tag/armazenamento' class='tag-link-76 tag-link-position-2' title='7 t√≥picos' style='font-size: 11.36pt;'>armazenamento</a>
<a href='https://rafaelbiriba.com/tag/atualizando' class='tag-link-132 tag-link-position-3' title='5 t√≥picos' style='font-size: 8pt;'>atualizando</a>
<a href='https://rafaelbiriba.com/tag/atualizar' class='tag-link-130 tag-link-position-4' title='10 t√≥picos' style='font-size: 15.28pt;'>atualizar</a>
<a href='https://rafaelbiriba.com/tag/audio' class='tag-link-22 tag-link-position-5' title='10 t√≥picos' style='font-size: 15.28pt;'>audio</a>
<a href='https://rafaelbiriba.com/tag/blog' class='tag-link-188 tag-link-position-6' title='15 t√≥picos' style='font-size: 19.76pt;'>blog</a>
<a href='https://rafaelbiriba.com/tag/codec' class='tag-link-26 tag-link-position-7' title='12 t√≥picos' style='font-size: 17.24pt;'>codec</a>
<a href='https://rafaelbiriba.com/tag/codigo' class='tag-link-46 tag-link-position-8' title='9 t√≥picos' style='font-size: 14.16pt;'>codigo</a>
<a href='https://rafaelbiriba.com/tag/converter' class='tag-link-23 tag-link-position-9' title='12 t√≥picos' style='font-size: 17.24pt;'>converter</a>
<a href='https://rafaelbiriba.com/tag/decifrar' class='tag-link-79 tag-link-position-10' title='5 t√≥picos' style='font-size: 8pt;'>decifrar</a>
<a href='https://rafaelbiriba.com/tag/desenvolvimento' class='tag-link-487 tag-link-position-11' title='13 t√≥picos' style='font-size: 18.36pt;'>Desenvolvimento</a>
<a href='https://rafaelbiriba.com/tag/disco' class='tag-link-16 tag-link-position-12' title='6 t√≥picos' style='font-size: 9.96pt;'>disco</a>
<a href='https://rafaelbiriba.com/tag/estag' class='tag-link-173 tag-link-position-13' title='9 t√≥picos' style='font-size: 14.16pt;'>estag</a>
<a href='https://rafaelbiriba.com/tag/estagio' class='tag-link-168 tag-link-position-14' title='12 t√≥picos' style='font-size: 17.24pt;'>est√°gio</a>
<a href='https://rafaelbiriba.com/tag/faetec' class='tag-link-192 tag-link-position-15' title='8 t√≥picos' style='font-size: 12.76pt;'>faetec</a>
<a href='https://rafaelbiriba.com/tag/ffmpeg' class='tag-link-484 tag-link-position-16' title='12 t√≥picos' style='font-size: 17.24pt;'>FFmpeg</a>
<a href='https://rafaelbiriba.com/tag/game' class='tag-link-53 tag-link-position-17' title='5 t√≥picos' style='font-size: 8pt;'>game</a>
<a href='https://rafaelbiriba.com/tag/globocom' class='tag-link-171 tag-link-position-18' title='10 t√≥picos' style='font-size: 15.28pt;'>globo.com</a>
<a href='https://rafaelbiriba.com/tag/google' class='tag-link-40 tag-link-position-19' title='7 t√≥picos' style='font-size: 11.36pt;'>google</a>
<a href='https://rafaelbiriba.com/tag/gravar' class='tag-link-24 tag-link-position-20' title='9 t√≥picos' style='font-size: 14.16pt;'>gravar</a>
<a href='https://rafaelbiriba.com/tag/imagem' class='tag-link-29 tag-link-position-21' title='6 t√≥picos' style='font-size: 9.96pt;'>imagem</a>
<a href='https://rafaelbiriba.com/tag/inscricao' class='tag-link-170 tag-link-position-22' title='14 t√≥picos' style='font-size: 19.2pt;'>inscri√ß√£o</a>
<a href='https://rafaelbiriba.com/tag/ist-rio' class='tag-link-191 tag-link-position-23' title='8 t√≥picos' style='font-size: 12.76pt;'>ist-rio</a>
<a href='https://rafaelbiriba.com/tag/leitura' class='tag-link-80 tag-link-position-24' title='7 t√≥picos' style='font-size: 11.36pt;'>leitura</a>
<a href='https://rafaelbiriba.com/tag/medieval' class='tag-link-55 tag-link-position-25' title='5 t√≥picos' style='font-size: 8pt;'>medieval</a>
<a href='https://rafaelbiriba.com/tag/multimedia' class='tag-link-27 tag-link-position-26' title='13 t√≥picos' style='font-size: 18.36pt;'>multimedia</a>
<a href='https://rafaelbiriba.com/tag/online' class='tag-link-51 tag-link-position-27' title='15 t√≥picos' style='font-size: 19.76pt;'>online</a>
<a href='https://rafaelbiriba.com/tag/oportunidade' class='tag-link-169 tag-link-position-28' title='10 t√≥picos' style='font-size: 15.28pt;'>oportunidade</a>
<a href='https://rafaelbiriba.com/tag/player' class='tag-link-34 tag-link-position-29' title='7 t√≥picos' style='font-size: 11.36pt;'>player</a>
<a href='https://rafaelbiriba.com/tag/processo-seletivo' class='tag-link-172 tag-link-position-30' title='14 t√≥picos' style='font-size: 19.2pt;'>processo seletivo</a>
<a href='https://rafaelbiriba.com/tag/ruby' class='tag-link-492 tag-link-position-31' title='10 t√≥picos' style='font-size: 15.28pt;'>Ruby</a>
<a href='https://rafaelbiriba.com/tag/rubygems' class='tag-link-103 tag-link-position-32' title='8 t√≥picos' style='font-size: 12.76pt;'>rubygems</a>
<a href='https://rafaelbiriba.com/tag/rubyonrails' class='tag-link-105 tag-link-position-33' title='5 t√≥picos' style='font-size: 8pt;'>rubyonrails</a>
<a href='https://rafaelbiriba.com/tag/sistema' class='tag-link-133 tag-link-position-34' title='5 t√≥picos' style='font-size: 8pt;'>sistema</a>
<a href='https://rafaelbiriba.com/tag/sistema-operacional' class='tag-link-12 tag-link-position-35' title='5 t√≥picos' style='font-size: 8pt;'>sistema operacional</a>
<a href='https://rafaelbiriba.com/tag/stream' class='tag-link-25 tag-link-position-36' title='8 t√≥picos' style='font-size: 12.76pt;'>stream</a>
<a href='https://rafaelbiriba.com/tag/tecnologia' class='tag-link-490 tag-link-position-37' title='17 t√≥picos' style='font-size: 21.44pt;'>Tecnologia</a>
<a href='https://rafaelbiriba.com/tag/travian' class='tag-link-49 tag-link-position-38' title='6 t√≥picos' style='font-size: 9.96pt;'>travian</a>
<a href='https://rafaelbiriba.com/tag/ubuntu' class='tag-link-11 tag-link-position-39' title='9 t√≥picos' style='font-size: 14.16pt;'>ubuntu</a>
<a href='https://rafaelbiriba.com/tag/versao' class='tag-link-129 tag-link-position-40' title='8 t√≥picos' style='font-size: 12.76pt;'>vers√£o</a>
<a href='https://rafaelbiriba.com/tag/video' class='tag-link-21 tag-link-position-41' title='18 t√≥picos' style='font-size: 22pt;'>video</a>
<a href='https://rafaelbiriba.com/tag/virtual' class='tag-link-17 tag-link-position-42' title='6 t√≥picos' style='font-size: 9.96pt;'>virtual</a>
<a href='https://rafaelbiriba.com/tag/web' class='tag-link-15 tag-link-position-43' title='16 t√≥picos' style='font-size: 20.6pt;'>web</a>
<a href='https://rafaelbiriba.com/tag/web-browser' class='tag-link-56 tag-link-position-44' title='6 t√≥picos' style='font-size: 9.96pt;'>web browser</a>
<a href='https://rafaelbiriba.com/tag/wordpress' class='tag-link-494 tag-link-position-45' title='13 t√≥picos' style='font-size: 18.36pt;'>Wordpress</a></div>
</aside><aside id="wp_related_posts_widget" class="widget widget_wp_related_posts">
<div class="wp_rp_wrap  wp_rp_plain" ><div class="wp_rp_content"><h1 class="widget-title">Leia tamb√©m:</h1><ul class="related_post wp_rp"><li data-position="0" data-poid="in-188" data-post-type="none" ><small class="wp_rp_publish_date">27/02/2009</small> <a href="https://rafaelbiriba.com/2009/02/27/php-ocultando-erros-de-codigo.html" class="wp_rp_title">PHP: Ocultando erros de c√≥digo</a></li><li data-position="1" data-poid="in-1810" data-post-type="none" ><small class="wp_rp_publish_date">24/12/2009</small> <a href="https://rafaelbiriba.com/2009/12/24/feliz-ano-novo-com-javascript.html" class="wp_rp_title">Feliz ano novo com javascript !</a></li><li data-position="2" data-poid="in-549" data-post-type="none" ><small class="wp_rp_publish_date">02/05/2009</small> <a href="https://rafaelbiriba.com/2009/05/02/qr-code-gere-com-o-google-chart-api.html" class="wp_rp_title">QR Code: Gere com o Google Chart API</a></li><li data-position="3" data-poid="in-2271" data-post-type="none" ><small class="wp_rp_publish_date">24/09/2010</small> <a href="https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html" class="wp_rp_title">Net-sftp: Solu√ß√£o para timeout durante o upload</a></li><li data-position="4" data-poid="in-2337" data-post-type="none" ><small class="wp_rp_publish_date">18/11/2010</small> <a href="https://rafaelbiriba.com/2010/11/18/net-sftp-calculando-o-progresso-do-upload.html" class="wp_rp_title">Net-SFTP: Calculando o progresso do upload</a></li></ul><div class="wp_rp_footer"><a class="wp_rp_backlink" target="_blank" href="http://www.zemanta.com/?wp-related-posts" rel="nofollow">Zemanta</a></div></div></div>
</aside>	</div><!-- #primary-sidebar -->
	</div><!-- #secondary -->

		<div class="cbd"></div>
		<script src="https://rafaelbiriba.com/wp-content/plugins/shutter-reloaded//shutter-reloaded.js?ver=2.5" type="text/javascript"></script>
	<script type="text/javascript">
	var shutterSettings = {"imgDir":"http:\/\/www.rafaelbiriba.com\/wp-content\/plugins\/shutter-reloaded\/\/menu\/","imageCount":true,"FS":false,"textBtns":true,"oneSet":true};
	try{}catch(e){}	</script>
	
		</div><!-- #main -->

		<footer id="colophon" class="site-footer" role="contentinfo">

			
			<div class="site-info">
								<a href="https://br.wordpress.org/">Orgulhosamente mantido com WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- #colophon -->
	</div><!-- #page -->

	
<script type="text/javascript"><!--
wpa2a.targets=[
{title:"PHP: Arquivo de log personalizado",url:"https://rafaelbiriba.com/2009/07/02/php-arquivo-de-log-personalizado.html"}];
wpa2a.html_done=true;if(wpa2a.script_ready&&!wpa2a.done)wpa2a.init();wpa2a.script_load();
//--></script>
<script type='text/javascript'>
/* <![CDATA[ */
var scriptParams = {"google_search_engine_id":"partner-pub-9952848327781387:5952361189"};
/* ]]> */
</script>
<script type='text/javascript' src='https://rafaelbiriba.com/wp-content/plugins/wp-google-search/assets/js/google_cse_v2.js?ver=1'></script>
<script type='text/javascript' src='https://rafaelbiriba.com/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.51.0-2014.06.20'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/www.rafaelbiriba.com\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","recaptchaEmpty":"Please verify that you are not a robot.","sending":"Enviando ..."};
/* ]]> */
</script>
<script type='text/javascript' src='https://rafaelbiriba.com/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.4.2'></script>
<script type='text/javascript' src='https://rafaelbiriba.com/wp-includes/js/comment-reply.min.js?ver=4.5.3'></script>
<script type='text/javascript' src='https://rafaelbiriba.com/wp-content/themes/twentyfourteen/js/functions.js?ver=20150315'></script>
<script type='text/javascript' src='https://rafaelbiriba.com/wp-includes/js/wp-embed.min.js?ver=4.5.3'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var embedVars = {"disqusConfig":{"platform":"wordpress@4.5.3","language":""},"disqusIdentifier":"791 http:\/\/www.rafaelbiriba.com\/?p=791","disqusShortname":"rafaelbiriba","disqusTitle":"PHP: Arquivo de log personalizado","disqusUrl":"http:\/\/www.rafaelbiriba.com\/2009\/07\/02\/php-arquivo-de-log-personalizado.html","options":{"manualSync":false},"postId":"791"};
/* ]]> */
</script>
<script type='text/javascript' src='https://rafaelbiriba.com/wp-content/plugins/disqus-comment-system/media/js/disqus.js?ver=4.5.3'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"rafaelbiriba"};
/* ]]> */
</script>
<script type='text/javascript' src='https://rafaelbiriba.com/wp-content/plugins/disqus-comment-system/media/js/count.js?ver=4.5.3'></script>
</body>
</html>