<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Ruby &#8211; Rafael Biriba Blog</title>
	<atom:link href="https://rafaelbiriba.com/category/desenvolvimento/ruby/feed" rel="self" type="application/rss+xml" />
	<link>https://rafaelbiriba.com</link>
	<description>Tecnologia e informação no lugar certo !</description>
	<lastBuildDate>Wed, 27 Jul 2016 02:24:36 +0000</lastBuildDate>
	<language>pt-BR</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.5.3</generator>
	<item>
		<title>Você sabia que dá para usar versões diferentes de ruby na mesma máquina ?</title>
		<link>https://rafaelbiriba.com/2012/09/21/voce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html</link>
		<comments>https://rafaelbiriba.com/2012/09/21/voce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html#comments</comments>
		<pubDate>Fri, 21 Sep 2012 20:22:35 +0000</pubDate>
		<dc:creator><![CDATA[Rafael Biriba]]></dc:creator>
				<category><![CDATA[Desenvolvimento]]></category>
		<category><![CDATA[Ruby]]></category>
		<category><![CDATA[gem]]></category>
		<category><![CDATA[gemset]]></category>
		<category><![CDATA[projetos]]></category>
		<category><![CDATA[rubygems]]></category>
		<category><![CDATA[rvm]]></category>
		<category><![CDATA[versionamento]]></category>

		<guid isPermaLink="false">https://rafaelbiriba.com/?p=3075</guid>
		<description><![CDATA[RVM ou Ruby Version Manager é o gerenciador de versões Ruby. Com ele você pode rodar projetos com rubys diferentes (exemplo: com a versão 1.8.7 e 1.9.3) mantendo os ambientes e as gems instaladas isoladas. Conheça mais sobre o RVM em: https://rvm.io/ Ou se preferir, pode ir direto para a página de instalação em https://rvm.io/rvm/install/ Um outro &#8230; <a href="https://rafaelbiriba.com/2012/09/21/voce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html" class="more-link">Continue lendo <span class="screen-reader-text">Você sabia que dá para usar versões diferentes de ruby na mesma máquina ?</span> <span class="meta-nav">&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[
<p style="text-align: justify;"><img class="alignleft size-full wp-image-3076" title="logo" src="https://rafaelbiriba.com/wp-content/uploads/2012/09/logo.png" alt="" width="200" height="200" srcset="https://rafaelbiriba.com/wp-content/uploads/2012/09/logo.png 200w, https://rafaelbiriba.com/wp-content/uploads/2012/09/logo-150x150.png 150w" sizes="(max-width: 200px) 100vw, 200px" />RVM ou Ruby Version Manager é o gerenciador de versões Ruby.</p>
<p style="text-align: justify;">Com ele você pode rodar projetos com rubys diferentes (exemplo: com a versão 1.8.7 e 1.9.3) mantendo os ambientes e as gems instaladas isoladas.</p>
<p style="text-align: justify;">Conheça mais sobre o RVM em: <a title="https://rvm.io/" href="https://rvm.io/" target="_blank">https://rvm.io/</a></p>
<p style="text-align: justify;">Ou se preferir, pode ir direto para a página de instalação em <a title="https://rvm.io/rvm/install/" href="https://rvm.io/rvm/install/" target="_blank">https://rvm.io/rvm/install/</a></p>
<p style="text-align: justify;">Um outro bom exemplo de uso do RVM, não é só a utilização de multiplos Rubys, e sim a separação que ele faz entre os projetos.</p>
<p style="text-align: justify;">Você pode criar com o RVM um &#8220;Gemset&#8221;, que é um grupo isolado onde se instalada as gem de seu projeto. Com isso você pode usar o mesmo ruby, e ter mais de um gemset configurado.</p>

<div class="wp_rp_wrap  wp_rp_plain" id="wp_rp_first"><div class="wp_rp_content"><h3 class="related_post_title">Leia também:</h3><ul class="related_post wp_rp"><li data-position="0" data-poid="in-1900" data-post-type="none" ><small class="wp_rp_publish_date">08/02/2010</small> <a href="https://rafaelbiriba.com/2010/02/08/cloud-crowd-a-primeira-action.html" class="wp_rp_title">Cloud Crowd: A primeira action</a></li><li data-position="1" data-poid="in-2271" data-post-type="none" ><small class="wp_rp_publish_date">24/09/2010</small> <a href="https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html" class="wp_rp_title">Net-sftp: Solução para timeout durante o upload</a></li><li data-position="2" data-poid="in-489" data-post-type="none" ><small class="wp_rp_publish_date">29/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html" class="wp_rp_title">Ruby: Alternativas para require &#8216;rubygems&#8217;</a></li><li data-position="3" data-poid="in-2908" data-post-type="none" ><small class="wp_rp_publish_date">03/02/2012</small> <a href="https://rafaelbiriba.com/2012/02/03/ubuntu-11-10-com-ruby-on-rails-nginx-mysql-de-forma-simples.html" class="wp_rp_title">Ubuntu 11.10 com Ruby on Rails + Nginx + Mysql de forma simples</a></li><li data-position="4" data-poid="in-405" data-post-type="none" ><small class="wp_rp_publish_date">13/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html" class="wp_rp_title">Ruby: require &#8216;rubygems&#8217;</a></li></ul><div class="wp_rp_footer"><a class="wp_rp_backlink" target="_blank" href="http://www.zemanta.com/?wp-related-posts" rel="nofollow">Zemanta</a></div></div></div>
<p><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2012%2F09%2F21%2Fvoce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html&amp;linkname=Voc%C3%AA%20sabia%20que%20d%C3%A1%20para%20usar%20vers%C3%B5es%20diferentes%20de%20ruby%20na%20mesma%20m%C3%A1quina%20%3F" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2012%2F09%2F21%2Fvoce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html&amp;linkname=Voc%C3%AA%20sabia%20que%20d%C3%A1%20para%20usar%20vers%C3%B5es%20diferentes%20de%20ruby%20na%20mesma%20m%C3%A1quina%20%3F" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_dd a2a_target addtoany_share_save" href="https://www.addtoany.com/share#url=http%3A%2F%2Fwww.rafaelbiriba.com%2F2012%2F09%2F21%2Fvoce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html&amp;title=Voc%C3%AA%20sabia%20que%20d%C3%A1%20para%20usar%20vers%C3%B5es%20diferentes%20de%20ruby%20na%20mesma%20m%C3%A1quina%20%3F" id="wpa2a_2"><img src="https://rafaelbiriba.com/wp-content/plugins/add-to-any/share_save_171_16.png" width="171" height="16" alt="Share"/></a></p>]]></content:encoded>
			<wfw:commentRss>https://rafaelbiriba.com/2012/09/21/voce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html/feed</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>Raptcha: Um captcha simples para aplicações Rails</title>
		<link>https://rafaelbiriba.com/2011/05/06/raptcha-um-captcha-simples-para-aplicacoes-rails.html</link>
		<comments>https://rafaelbiriba.com/2011/05/06/raptcha-um-captcha-simples-para-aplicacoes-rails.html#comments</comments>
		<pubDate>Fri, 06 May 2011 18:10:10 +0000</pubDate>
		<dc:creator><![CDATA[Rafael Biriba]]></dc:creator>
				<category><![CDATA[Desenvolvimento]]></category>
		<category><![CDATA[Ruby]]></category>
		<category><![CDATA[Tecnologia]]></category>
		<category><![CDATA[catpcha]]></category>
		<category><![CDATA[ghostscript]]></category>
		<category><![CDATA[imagemagick]]></category>
		<category><![CDATA[rails]]></category>
		<category><![CDATA[raptcha]]></category>
		<category><![CDATA[recaptcha]]></category>
		<category><![CDATA[rubygems]]></category>
		<category><![CDATA[rubyonrails]]></category>

		<guid isPermaLink="false">https://rafaelbiriba.com/?p=2831</guid>
		<description><![CDATA[&#160; Captcha é um teste de desafio cognitivo, utilizado como ferramenta anti-spam. O que acontece é que um script automatizado (um robô), não consegue ler o texto embaralhado nas imagens. Isso faz com que seja uma excelente ferramenta para combater o spam ou prevenir que scripts tenham acesso a determinadas áreas. Recentemente tive que procurar &#8230; <a href="https://rafaelbiriba.com/2011/05/06/raptcha-um-captcha-simples-para-aplicacoes-rails.html" class="more-link">Continue lendo <span class="screen-reader-text">Raptcha: Um captcha simples para aplicações Rails</span> <span class="meta-nav">&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[
<p>&nbsp;</p>

<figure id="attachment_2832" style="width: 400px" class="wp-caption aligncenter"><img class="size-full wp-image-2832" title="Robot_Tattoo" src="https://rafaelbiriba.com/wp-content/uploads/2011/04/Robot_Tattoo.png" alt="" width="400" height="198" srcset="https://rafaelbiriba.com/wp-content/uploads/2011/04/Robot_Tattoo.png 400w, https://rafaelbiriba.com/wp-content/uploads/2011/04/Robot_Tattoo-300x148.png 300w" sizes="(max-width: 400px) 100vw, 400px" /><figcaption class="wp-caption-text">Humor: Robôs lendo o captcha</figcaption></figure>
<p style="text-align: justify;">Captcha é um teste de desafio cognitivo, utilizado como ferramenta anti-spam. O que acontece é que um script automatizado (um robô), não consegue ler o texto embaralhado nas imagens. Isso faz com que seja uma excelente ferramenta para combater o spam ou prevenir que scripts tenham acesso a determinadas áreas.</p>
<p style="text-align: justify;">Recentemente tive que procurar uma gem (um pacote do <a title="http://rubygems.org/" href="http://rubygems.org/" target="_blank">rubygems</a>) de captcha para minha aplicação rails, mas que fosse a mais simples possível e sem nenhuma dependência externa.</p>
<p style="text-align: justify;">Vi que a mais utilizada é a gem <a title="http://rubygems.org/gems/recaptcha" href="http://rubygems.org/gems/recaptcha" target="_blank">recaptcha</a>, que utiliza a estrutura da API do google de captcha (<a title="http://www.google.com/recaptcha" href="http://www.google.com/recaptcha" target="_blank">google.com/recaptcha</a>). Para resolver o meu problema ela não serve, já que o meu projeto vai rodar em máquinas sem acesso a internet.</p>
<p style="text-align: justify;">Então ao continuar a busca por uma boa gem de captcha, recebi a recomendação de usar o <a title="http://rubygems.org/gems/raptcha" href="http://rubygems.org/gems/raptcha" target="_blank">Raptcha</a>.</p>
<p style="text-align: justify;"><img class="alignright size-full wp-image-2834" title="raptcha-example" src="https://rafaelbiriba.com/wp-content/uploads/2011/04/raptcha-example.png" alt="" width="252" height="126" /></p>
<p style="text-align: justify;">O Raptcha é realmente muito simples de configurar e de usar. Ele usa o Image Magick para renderizar as imagens em tempo real.</p>
<p style="text-align: justify;">Em alguns casos isso pode ser um problema, mas no caso da minha aplicação, não havia necessidade de cachear as imagens.</p>
<p style="text-align: justify;">Ao lado temos um exemplo do uso do raptcha.</p>
<p style="text-align: justify;">Você pode conferir a documentação de instalação pelo link: <a title="https://github.com/ahoward/raptcha" href="https://github.com/ahoward/raptcha" target="_blank">https://github.com/ahoward/raptcha</a></p>
<p style="text-align: justify;">Quando estava fazendo os meus testes, tive dificuldade para fazer as letras do captcha aparecer. Se isso acontecer, tente instalar o pacote GhostScript. Se você estiver usando o ubuntu, o <strong>imagemagick</strong> e o <strong>ghostscript</strong> tem no <span style="color: #ff0000;">synaptic</span>. Se você usa macbook, ambos os pacotes podem ser instalados pelo repositório do <span style="color: #ff0000;">brew</span> (não sei se tem no ports).</p>
<p style="text-align: justify;">Um outro problema que eu tive que resolver, foi implementar o botão de gerar outro captcha. Infelizmente o raptcha não da suporte nativo a isso. Mas pode ser facilmente resolvido usando Ajax. O que eu fiz foi colocar no controller um render partial como mostra o código a seguir:</p>


<div class="wp_syntax"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#9966CC; font-weight:bold;">class</span> RaptchaController <span style="color:#006600; font-weight:bold;">&lt;</span> ApplicationController
&nbsp;
  <span style="color:#9966CC; font-weight:bold;">def</span> index
    Raptcha.<span style="color:#9900CC;">render</span><span style="color:#006600; font-weight:bold;">&#40;</span>controller=<span style="color:#0000FF; font-weight:bold;">self</span>, params<span style="color:#006600; font-weight:bold;">&#41;</span>
  <span style="color:#9966CC; font-weight:bold;">end</span>
&nbsp;
  <span style="color:#9966CC; font-weight:bold;">def</span> get_form
    render <span style="color:#ff3333; font-weight:bold;">:partial</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">&quot;form&quot;</span>
  <span style="color:#9966CC; font-weight:bold;">end</span>
&nbsp;
<span style="color:#9966CC; font-weight:bold;">end</span></pre></td></tr></table></div>



<p style="text-align: justify;">E no partial &#8220;form&#8221; ficou assim:</p>


<div class="wp_syntax"><table><tr><td class="line_numbers"><pre>1
</pre></td><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#006600; font-weight:bold;">&lt;%</span>= raw Raptcha.<span style="color:#9900CC;">input</span> <span style="color:#006600; font-weight:bold;">%&gt;</span></pre></td></tr></table></div>



<p style="text-align: justify;">Dessa forma, a chamar a url: <strong>http://localhost:3000/raptcha/<span style="color: #ff0000;">get_form</span></strong> obtemos o retorno de todo o form do raptcha:</p>


<div class="wp_syntax"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#006600; font-weight:bold;">&lt;</span>div <span style="color:#9966CC; font-weight:bold;">class</span>=<span style="color:#996600;">&quot;raptcha&quot;</span><span style="color:#006600; font-weight:bold;">&gt;</span>
   <span style="color:#006600; font-weight:bold;">&lt;</span>img <span style="color:#9966CC; font-weight:bold;">class</span>=<span style="color:#996600;">&quot;raptcha-image&quot;</span> src=<span style="color:#996600;">&quot;/raptcha?e=DaROXGWrRTrLdYXmJ05iKg&quot;</span> alt=<span style="color:#996600;">&quot;Imagem de validação&quot;</span> width=<span style="color:#996600;">&quot;242&quot;</span> height=<span style="color:#996600;">&quot;68&quot;</span> <span style="color:#006600; font-weight:bold;">/&gt;</span>
&nbsp;
   <span style="color:#006600; font-weight:bold;">&lt;</span>label<span style="color:#006600; font-weight:bold;">&gt;&lt;</span>img id=<span style="color:#996600;">&quot;captcha-reload&quot;</span> title=<span style="color:#996600;">&quot;Recarregar imagem&quot;</span> src=<span style="color:#996600;">&quot;/images/mini-reload.gif&quot;</span> alt=<span style="color:#996600;">&quot;&quot;</span> <span style="color:#006600; font-weight:bold;">/&gt;</span>Digite as letras acima:<span style="color:#006600; font-weight:bold;">&lt;/</span>label<span style="color:#006600; font-weight:bold;">&gt;</span>
&nbsp;
   <span style="color:#006600; font-weight:bold;">&lt;</span>input <span style="color:#9966CC; font-weight:bold;">class</span>=<span style="color:#996600;">&quot;raptcha-input box&quot;</span> name=<span style="color:#996600;">&quot;raptcha[t]&quot;</span> type=<span style="color:#996600;">&quot;textarea&quot;</span> <span style="color:#006600; font-weight:bold;">/&gt;</span>
   <span style="color:#006600; font-weight:bold;">&lt;</span>input <span style="color:#9966CC; font-weight:bold;">class</span>=<span style="color:#996600;">&quot;raptcha-word&quot;</span> name=<span style="color:#996600;">&quot;raptcha[w]&quot;</span> type=<span style="color:#996600;">&quot;hidden&quot;</span> value=<span style="color:#996600;">&quot;DaROXGWrRTrLdYXmJ05iKg&quot;</span> <span style="color:#006600; font-weight:bold;">/&gt;</span>
   <span style="color:#006600; font-weight:bold;">&lt;</span>input <span style="color:#9966CC; font-weight:bold;">class</span>=<span style="color:#996600;">&quot;raptcha-timebomb&quot;</span> name=<span style="color:#996600;">&quot;raptcha[b]&quot;</span> type=<span style="color:#996600;">&quot;hidden&quot;</span> value=<span style="color:#996600;">&quot;nEZ-sQYpOFC2YIE2qhAjeQ&quot;</span> <span style="color:#006600; font-weight:bold;">/&gt;&lt;/</span>div<span style="color:#006600; font-weight:bold;">&gt;</span></pre></td></tr></table></div>



<p style="text-align: justify;">Então basta você colocar uma ação no botão <strong>#captcha-reload </strong>e obter um novo form por ajax e substituir o form antigo na página de sua aplicação. Fazendo assim, você poderá recarregar o seu captcha quantas vezes precisar&#8230;</p>
<p style="text-align: justify;">Então é isso&#8230; Se você precisa de uma solução simples para o captcha em seu projeto, experimente o Raptcha usando as dicas acima&#8230; <img src="https://s.w.org/images/core/emoji/72x72/1f609.png" alt="😉" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>

<div class="wp_rp_wrap  wp_rp_plain" ><div class="wp_rp_content"><h3 class="related_post_title">Leia também:</h3><ul class="related_post wp_rp"><li data-position="0" data-poid="in-405" data-post-type="none" ><small class="wp_rp_publish_date">13/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html" class="wp_rp_title">Ruby: require &#8216;rubygems&#8217;</a></li><li data-position="1" data-poid="in-489" data-post-type="none" ><small class="wp_rp_publish_date">29/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html" class="wp_rp_title">Ruby: Alternativas para require &#8216;rubygems&#8217;</a></li><li data-position="2" data-poid="in-402" data-post-type="none" ><small class="wp_rp_publish_date">04/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/04/ruby-aprenda-a-programar.html" class="wp_rp_title">Ruby: Aprenda a programar</a></li><li data-position="3" data-poid="in-2271" data-post-type="none" ><small class="wp_rp_publish_date">24/09/2010</small> <a href="https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html" class="wp_rp_title">Net-sftp: Solução para timeout durante o upload</a></li><li data-position="4" data-poid="in-3075" data-post-type="none" ><small class="wp_rp_publish_date">21/09/2012</small> <a href="https://rafaelbiriba.com/2012/09/21/voce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html" class="wp_rp_title">Você sabia que dá para usar versões diferentes de ruby na mesma máquina ?</a></li></ul><div class="wp_rp_footer"><a class="wp_rp_backlink" target="_blank" href="http://www.zemanta.com/?wp-related-posts" rel="nofollow">Zemanta</a></div></div></div>
<p><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2011%2F05%2F06%2Fraptcha-um-captcha-simples-para-aplicacoes-rails.html&amp;linkname=Raptcha%3A%20Um%20captcha%20simples%20para%20aplica%C3%A7%C3%B5es%20Rails" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2011%2F05%2F06%2Fraptcha-um-captcha-simples-para-aplicacoes-rails.html&amp;linkname=Raptcha%3A%20Um%20captcha%20simples%20para%20aplica%C3%A7%C3%B5es%20Rails" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_dd a2a_target addtoany_share_save" href="https://www.addtoany.com/share#url=http%3A%2F%2Fwww.rafaelbiriba.com%2F2011%2F05%2F06%2Fraptcha-um-captcha-simples-para-aplicacoes-rails.html&amp;title=Raptcha%3A%20Um%20captcha%20simples%20para%20aplica%C3%A7%C3%B5es%20Rails" id="wpa2a_4"><img src="https://rafaelbiriba.com/wp-content/plugins/add-to-any/share_save_171_16.png" width="171" height="16" alt="Share"/></a></p>]]></content:encoded>
			<wfw:commentRss>https://rafaelbiriba.com/2011/05/06/raptcha-um-captcha-simples-para-aplicacoes-rails.html/feed</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>Net-SFTP: Calculando o progresso do upload</title>
		<link>https://rafaelbiriba.com/2010/11/18/net-sftp-calculando-o-progresso-do-upload.html</link>
		<comments>https://rafaelbiriba.com/2010/11/18/net-sftp-calculando-o-progresso-do-upload.html#comments</comments>
		<pubDate>Thu, 18 Nov 2010 13:40:29 +0000</pubDate>
		<dc:creator><![CDATA[Rafael Biriba]]></dc:creator>
				<category><![CDATA[Desenvolvimento]]></category>
		<category><![CDATA[Ruby]]></category>
		<category><![CDATA[codigo]]></category>
		<category><![CDATA[net-sftp]]></category>
		<category><![CDATA[net-ssh]]></category>
		<category><![CDATA[progress]]></category>
		<category><![CDATA[progresso]]></category>
		<category><![CDATA[rubygems]]></category>
		<category><![CDATA[sftp]]></category>
		<category><![CDATA[upload]]></category>

		<guid isPermaLink="false">https://rafaelbiriba.com/?p=2337</guid>
		<description><![CDATA[Estou escrevendo esse post, para complementar o post sobre o timeout do net-sftp, onde fiquei devendo essa a solução de calculo do progresso&#8230; Para obter o progresso durante o upload, você precisa usar o callback do método upload! e jogar numa variável os valores do tamanho local e do tamanho do arquivo no destino. Vejamos &#8230; <a href="https://rafaelbiriba.com/2010/11/18/net-sftp-calculando-o-progresso-do-upload.html" class="more-link">Continue lendo <span class="screen-reader-text">Net-SFTP: Calculando o progresso do upload</span> <span class="meta-nav">&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[
<p style="text-align: justify;"><a href="https://rafaelbiriba.com/wp-content/uploads/2010/09/ruby-box.png"><img class="alignright size-full wp-image-2273" title="ruby-box" src="https://rafaelbiriba.com/wp-content/uploads/2010/09/ruby-box.png" alt="" width="150" height="150" /></a>Estou escrevendo esse post, para complementar o <a title="https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html" href="https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html" target="_blank">post sobre o timeout do net-sftp</a>, onde fiquei devendo essa a solução de calculo do progresso&#8230;</p>
<p style="text-align: justify;">Para obter o progresso durante o upload, você precisa usar o callback do método upload! e jogar numa variável os valores do tamanho local e do tamanho do arquivo no destino.</p>
<p style="text-align: justify;">Vejamos um pequeno exemplo, retirado da <a title="http://net-ssh.rubyforge.org/sftp/v2/api/classes/Net/SFTP/Operations/Upload.html" href="http://net-ssh.rubyforge.org/sftp/v2/api/classes/Net/SFTP/Operations/Upload.html" target="_blank">documentação</a>:</p>


<div class="wp_syntax"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'rubygems'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'net/sftp'</span>
<span style="color:#6666ff; font-weight:bold;">Net::SFTP</span>.<span style="color:#9900CC;">start</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">'192.168.0.2'</span>, <span style="color:#996600;">'rafaelbiriba'</span>, <span style="color:#006600; font-weight:bold;">&#123;</span>:password <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">'teste'</span>, <span style="color:#ff3333; font-weight:bold;">:timeout</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#006666;">3</span><span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#9966CC; font-weight:bold;">do</span> <span style="color:#006600; font-weight:bold;">|</span>sftp<span style="color:#006600; font-weight:bold;">|</span>
  sftp.<span style="color:#9900CC;">upload</span>!<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;/Users/rafaelbiriba/Projects/temp/video-teste-sftp.mp4&quot;</span>, <span style="color:#996600;">&quot;/home/rafaelbiriba/video-teste-sftp.mp4&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#9966CC; font-weight:bold;">do</span> <span style="color:#006600; font-weight:bold;">|</span>event, uploader, <span style="color:#006600; font-weight:bold;">*</span>args<span style="color:#006600; font-weight:bold;">|</span>
    <span style="color:#9966CC; font-weight:bold;">case</span> event
    <span style="color:#9966CC; font-weight:bold;">when</span> :<span style="color:#CC0066; font-weight:bold;">open</span> <span style="color:#9966CC; font-weight:bold;">then</span>
      <span style="color:#008000; font-style:italic;"># args[0] : file metadata</span>
      <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;starting upload: #{args[0].local} -&gt; #{args[0].remote} (#{args[0].size} bytes}&quot;</span>
    <span style="color:#9966CC; font-weight:bold;">when</span> <span style="color:#ff3333; font-weight:bold;">:put</span> <span style="color:#9966CC; font-weight:bold;">then</span>
      <span style="color:#008000; font-style:italic;"># args[0] : file metadata</span>
      <span style="color:#008000; font-style:italic;"># args[1] : byte offset in remote file</span>
      <span style="color:#008000; font-style:italic;"># args[2] : data being written (as string)</span>
      <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;writing #{args[2].length} bytes to #{args[0].remote} starting at #{args[1]}&quot;</span>
    <span style="color:#9966CC; font-weight:bold;">when</span> <span style="color:#ff3333; font-weight:bold;">:finish</span> <span style="color:#9966CC; font-weight:bold;">then</span>
      <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;all done!&quot;</span>
    <span style="color:#9966CC; font-weight:bold;">end</span>
  <span style="color:#9966CC; font-weight:bold;">end</span>
<span style="color:#9966CC; font-weight:bold;">end</span></pre></td></tr></table></div>



<p style="text-align: justify;">No exemplo acima podemos verificar:</p>
<ul style="text-align: justify;">
	<li>Ao abrir a conexão (when open), podemos chamar <strong>args[0].size</strong> e obter o tamanho total do arquivo</li>
	<li>Durante a transferência (when put), ao chamar <strong>args[1]</strong> podemos obter o tamanho do arquivo remoto</li>
</ul>
<p style="text-align: justify;">Com isso, quando o tamanho total do arquivo for igual ao tamanho do arquivo remoto, então o upload estará terminado (100%). Para obter as porcentagens, basta fazer o cálculo.<br /><br />Confira no exemplo abaixo:</p>


<div class="wp_syntax"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'rubygems'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'net/sftp'</span>
<span style="color:#0066ff; font-weight:bold;">@total_size</span> = <span style="color:#006666;">0</span>
<span style="color:#0066ff; font-weight:bold;">@remote_size</span> = <span style="color:#006666;">0</span>
<span style="color:#0066ff; font-weight:bold;">@current_progress</span> = <span style="color:#006666;">0</span>
&nbsp;
<span style="color:#9966CC; font-weight:bold;">def</span> update_sftp_progress
  progress = <span style="color:#006600; font-weight:bold;">&#40;</span>@remote_size<span style="color:#006600; font-weight:bold;">*</span><span style="color:#006666;">100</span><span style="color:#006600; font-weight:bold;">&#41;</span><span style="color:#006600; font-weight:bold;">/</span>@total_size<span style="color:#006600; font-weight:bold;">&#41;</span>
  <span style="color:#9966CC; font-weight:bold;">if</span> <span style="color:#0066ff; font-weight:bold;">@current_progress</span> <span style="color:#006600; font-weight:bold;">&lt;</span> progress <span style="color:#9966CC; font-weight:bold;">then</span>
    <span style="color:#0066ff; font-weight:bold;">@current_progress</span> = progress
    <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;Uploading: #{@current_progress}%&quot;</span> 
  <span style="color:#9966CC; font-weight:bold;">end</span>
<span style="color:#9966CC; font-weight:bold;">end</span>
&nbsp;
<span style="color:#6666ff; font-weight:bold;">Net::SFTP</span>.<span style="color:#9900CC;">start</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">'192.168.0.2'</span>, <span style="color:#996600;">'rafaelbiriba'</span>, <span style="color:#006600; font-weight:bold;">&#123;</span>:password <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">'teste'</span>, <span style="color:#ff3333; font-weight:bold;">:timeout</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#006666;">3</span><span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#9966CC; font-weight:bold;">do</span> <span style="color:#006600; font-weight:bold;">|</span>sftp<span style="color:#006600; font-weight:bold;">|</span>
 sftp.<span style="color:#9900CC;">upload</span>!<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;/Users/rafaelbiriba/Projects/temp/video-teste-sftp.mp4&quot;</span>, <span style="color:#996600;">&quot;/home/rafaelbiriba/video-teste-sftp.mp4&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#9966CC; font-weight:bold;">do</span> <span style="color:#006600; font-weight:bold;">|</span>event, uploader, <span style="color:#006600; font-weight:bold;">*</span>args<span style="color:#006600; font-weight:bold;">|</span>
   <span style="color:#9966CC; font-weight:bold;">case</span> event
     <span style="color:#9966CC; font-weight:bold;">when</span> :<span style="color:#CC0066; font-weight:bold;">open</span> <span style="color:#9966CC; font-weight:bold;">then</span>
       <span style="color:#0066ff; font-weight:bold;">@total_size</span> = args<span style="color:#006600; font-weight:bold;">&#91;</span><span style="color:#006666;">0</span><span style="color:#006600; font-weight:bold;">&#93;</span>.<span style="color:#9900CC;">size</span>
       <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;Starting upload...&quot;</span>
     <span style="color:#9966CC; font-weight:bold;">when</span> <span style="color:#ff3333; font-weight:bold;">:put</span> <span style="color:#9966CC; font-weight:bold;">then</span>
       <span style="color:#0066ff; font-weight:bold;">@remote_size</span> = args<span style="color:#006600; font-weight:bold;">&#91;</span><span style="color:#006666;">1</span><span style="color:#006600; font-weight:bold;">&#93;</span>
       update_sftp_progress
     <span style="color:#9966CC; font-weight:bold;">when</span> <span style="color:#ff3333; font-weight:bold;">:finish</span> <span style="color:#9966CC; font-weight:bold;">then</span>
       <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;Finished!&quot;</span>
     <span style="color:#9966CC; font-weight:bold;">end</span>
   <span style="color:#9966CC; font-weight:bold;">end</span>
<span style="color:#9966CC; font-weight:bold;">end</span></pre></td></tr></table></div>



<p style="text-align: justify;">Toda vez que o arquivo no destino for incrementado, o evento (:put) será disparado, chamando o método update_sftp_progress.</p>
<p style="text-align: justify;">Nesse método é feito o cálculo da porcentagem(ver no exemplo acima). Ao invés de imprimir a porcentagem(com puts), você também pode salvar no banco de dados, ou utilizar o valor para fazer uma barra de progresso.</p>
<p style="text-align: justify;">Espero ter ajudado, <img src="https://s.w.org/images/core/emoji/72x72/1f609.png" alt="😉" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>

<div class="wp_rp_wrap  wp_rp_plain" ><div class="wp_rp_content"><h3 class="related_post_title">Leia também:</h3><ul class="related_post wp_rp"><li data-position="0" data-poid="in-2271" data-post-type="none" ><small class="wp_rp_publish_date">24/09/2010</small> <a href="https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html" class="wp_rp_title">Net-sftp: Solução para timeout durante o upload</a></li><li data-position="1" data-poid="in-405" data-post-type="none" ><small class="wp_rp_publish_date">13/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html" class="wp_rp_title">Ruby: require &#8216;rubygems&#8217;</a></li><li data-position="2" data-poid="in-489" data-post-type="none" ><small class="wp_rp_publish_date">29/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html" class="wp_rp_title">Ruby: Alternativas para require &#8216;rubygems&#8217;</a></li><li data-position="3" data-poid="in-3075" data-post-type="none" ><small class="wp_rp_publish_date">21/09/2012</small> <a href="https://rafaelbiriba.com/2012/09/21/voce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html" class="wp_rp_title">Você sabia que dá para usar versões diferentes de ruby na mesma máquina ?</a></li><li data-position="4" data-poid="in-2831" data-post-type="none" ><small class="wp_rp_publish_date">06/05/2011</small> <a href="https://rafaelbiriba.com/2011/05/06/raptcha-um-captcha-simples-para-aplicacoes-rails.html" class="wp_rp_title">Raptcha: Um captcha simples para aplicações Rails</a></li></ul><div class="wp_rp_footer"><a class="wp_rp_backlink" target="_blank" href="http://www.zemanta.com/?wp-related-posts" rel="nofollow">Zemanta</a></div></div></div>
<p><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2010%2F11%2F18%2Fnet-sftp-calculando-o-progresso-do-upload.html&amp;linkname=Net-SFTP%3A%20Calculando%20o%20progresso%20do%20upload" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2010%2F11%2F18%2Fnet-sftp-calculando-o-progresso-do-upload.html&amp;linkname=Net-SFTP%3A%20Calculando%20o%20progresso%20do%20upload" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_dd a2a_target addtoany_share_save" href="https://www.addtoany.com/share#url=http%3A%2F%2Fwww.rafaelbiriba.com%2F2010%2F11%2F18%2Fnet-sftp-calculando-o-progresso-do-upload.html&amp;title=Net-SFTP%3A%20Calculando%20o%20progresso%20do%20upload" id="wpa2a_6"><img src="https://rafaelbiriba.com/wp-content/plugins/add-to-any/share_save_171_16.png" width="171" height="16" alt="Share"/></a></p>]]></content:encoded>
			<wfw:commentRss>https://rafaelbiriba.com/2010/11/18/net-sftp-calculando-o-progresso-do-upload.html/feed</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>Net-sftp: Solução para timeout durante o upload</title>
		<link>https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html</link>
		<comments>https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html#comments</comments>
		<pubDate>Fri, 24 Sep 2010 14:15:22 +0000</pubDate>
		<dc:creator><![CDATA[Rafael Biriba]]></dc:creator>
				<category><![CDATA[Desenvolvimento]]></category>
		<category><![CDATA[Ruby]]></category>
		<category><![CDATA[codigo]]></category>
		<category><![CDATA[conexão]]></category>
		<category><![CDATA[connection]]></category>
		<category><![CDATA[net-sftp]]></category>
		<category><![CDATA[net-ssh]]></category>
		<category><![CDATA[rubygems]]></category>
		<category><![CDATA[rufus]]></category>
		<category><![CDATA[scheduler]]></category>
		<category><![CDATA[timeout]]></category>
		<category><![CDATA[upload]]></category>

		<guid isPermaLink="false">https://rafaelbiriba.com/?p=2271</guid>
		<description><![CDATA[Desenvolvendo um script em ruby para upload de arquivos, utilizando a gem net-sftp, acabei encontrando um problema. A falta de timeout durante a transferência. Decidi escrever esse post, para compartilhar a minha solução e também receber opniões e outras soluções para o problema. Fiz algo parecido quando escrevi o post sobre o cron de 15 &#8230; <a href="https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html" class="more-link">Continue lendo <span class="screen-reader-text">Net-sftp: Solução para timeout durante o upload</span> <span class="meta-nav">&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[
<p style="text-align: justify;"><img class="alignleft size-full wp-image-2273" title="ruby-box" src="https://rafaelbiriba.com/wp-content/uploads/2010/09/ruby-box.png" alt="" width="150" height="150" /></p>
<p style="text-align: justify;">Desenvolvendo um script em ruby para upload de arquivos, utilizando a gem <a title="http://rubygems.org/gems/net-sftp" href="http://rubygems.org/gems/net-sftp" target="_blank">net-sftp</a>, acabei encontrando um problema. A falta de timeout durante a transferência.</p>
<p style="text-align: justify;">Decidi escrever esse post, para compartilhar a minha solução e também receber opniões e outras soluções para o problema. Fiz algo parecido quando escrevi o post sobre o <a title="https://rafaelbiriba.com/2010/08/01/crontab-rodando-um-script-a-cada-15-segundos.html" href="https://rafaelbiriba.com/2010/08/01/crontab-rodando-um-script-a-cada-15-segundos.html" target="_blank">cron de 15 em 15 segundos</a> e obtive resultados bem legais.</p>
<p style="text-align: justify;"><strong>Introdução ao problema<br /></strong>A gem <a title="http://rubygems.org/gems/net-sftp" href="http://rubygems.org/gems/net-sftp" target="_blank">net-sftp</a> é bastante utilizada em scripts ruby que requerem alguma transferência de arquivo utilizando uma conexão segura, como por exemplo, upload, download, criação de diretórios e etc&#8230; Utilizando a gem <a title="http://rubygems.org/gems/net-ssh" href="http://rubygems.org/gems/net-ssh" target="_blank">net-ssh</a> para estabelecer essa conexão.</p>
<p style="text-align: justify;">Primeiramente, vamor ver um exemplo do problema:</p>


<div class="wp_syntax"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
</pre></td><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'rubygems'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'net/sftp'</span>
<span style="color:#6666ff; font-weight:bold;">Net::SFTP</span>.<span style="color:#9900CC;">start</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">'192.168.0.2'</span>, <span style="color:#996600;">'rafaelbiriba'</span>, <span style="color:#006600; font-weight:bold;">&#123;</span>:password <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">'teste'</span>, <span style="color:#ff3333; font-weight:bold;">:timeout</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#006666;">3</span><span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#9966CC; font-weight:bold;">do</span> <span style="color:#006600; font-weight:bold;">|</span>sftp<span style="color:#006600; font-weight:bold;">|</span>
  sftp.<span style="color:#9900CC;">upload</span>!<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;/Users/rafaelbiriba/Projects/temp/video-teste-sftp.mp4&quot;</span>, <span style="color:#996600;">&quot;/home/rafaelbiriba/video-teste-sftp.mp4&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span>
<span style="color:#9966CC; font-weight:bold;">end</span></pre></td></tr></table></div>



<p style="text-align: justify;">O código acima faz o upload de um arquivo de mais de 400 Mb. Se durante o upload houver um problema na sua conexão, o upload fica &#8220;esperando&#8221; a rede voltar, o que é um problemão, pois ele trava a execução do script, sem dar nenhum sinal de vida.</p>
<p style="text-align: justify;">De acordo com a <a title="http://net-ssh.rubyforge.org/sftp/v2/api/classes/Net/SFTP/Session.html#M000115" href="http://net-ssh.rubyforge.org/sftp/v2/api/classes/Net/SFTP/Session.html#M000115" target="_blank">documentação do net-sftp</a>, você pode utilizar o método &#8220;upload&#8221; no lugar de &#8220;upload!&#8221; para não travar a execução do script. Mas ainda sim o problema continua. Fazendo isso, você vai precisar rodar um loop até que o upload termine. Ou seja, se a conexão cair, o método só vai terminar(e sair do loop) quando a conexão voltar. Então essa opção foi logo descartada.</p>
<p style="text-align: justify;">O problema mesmo só acontece quando há perda de conexão depois que a sessão inicia. (O parâmetro :timeout apenas estabelece o limite de espera para iniciar a sessão e não durante a transferência dos arquivos.)</p>
<p style="text-align: justify;">Se o net-sftp / net-ssh aceitasse a opção &#8220;ServerAliveInterval&#8221; (Parametro de configuração do ssh), ele iria verificar a conexão durante a transferência e ao alcançar o limite (&#8220;ServerAliveCountMax&#8221;) seria disparado o timeout. Infelizmente, de acordo com a <a title="http://net-ssh.rubyforge.org/ssh/v2/api/classes/Net/SSH/Config.html" href="http://net-ssh.rubyforge.org/ssh/v2/api/classes/Net/SSH/Config.html" target="_blank">documentação do net-ssh</a> esses parâmetros não estão disponíveis.</p>
<p style="text-align: justify;">Seguindo com a leitura e busca pela solução na <a title="http://net-ssh.rubyforge.org/sftp/v2/api/classes/Net/SFTP/Session.html#M000115" href="http://net-ssh.rubyforge.org/sftp/v2/api/classes/Net/SFTP/Session.html#M000115" target="_blank">documentação do net-sftp</a>, achei uma possível pista para encontrar a solução:</p>


<div class="wp_syntax"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'rubygems'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'net/sftp'</span>
<span style="color:#6666ff; font-weight:bold;">Net::SFTP</span>.<span style="color:#9900CC;">start</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">'192.168.0.2'</span>, <span style="color:#996600;">'rafaelbiriba'</span>, <span style="color:#006600; font-weight:bold;">&#123;</span>:password <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">'teste'</span>, <span style="color:#ff3333; font-weight:bold;">:timeout</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#006666;">3</span><span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#9966CC; font-weight:bold;">do</span> <span style="color:#006600; font-weight:bold;">|</span>sftp<span style="color:#006600; font-weight:bold;">|</span>
  sftp.<span style="color:#9900CC;">upload</span>!<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;/Users/rafaelbiriba/Projects/temp/video-teste-sftp.mp4&quot;</span>, <span style="color:#996600;">&quot;/home/rafaelbiriba/video-teste-sftp.mp4&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#9966CC; font-weight:bold;">do</span> <span style="color:#006600; font-weight:bold;">|</span>event, uploader, <span style="color:#006600; font-weight:bold;">*</span>args<span style="color:#006600; font-weight:bold;">|</span>
    <span style="color:#9966CC; font-weight:bold;">case</span> event
    <span style="color:#9966CC; font-weight:bold;">when</span> :<span style="color:#CC0066; font-weight:bold;">open</span> <span style="color:#9966CC; font-weight:bold;">then</span>
      <span style="color:#008000; font-style:italic;"># args[0] : file metadata</span>
      <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;starting upload: #{args[0].local} -&gt; #{args[0].remote} (#{args[0].size} bytes}&quot;</span>
    <span style="color:#9966CC; font-weight:bold;">when</span> <span style="color:#ff3333; font-weight:bold;">:put</span> <span style="color:#9966CC; font-weight:bold;">then</span>
      <span style="color:#008000; font-style:italic;"># args[0] : file metadata</span>
      <span style="color:#008000; font-style:italic;"># args[1] : byte offset in remote file</span>
      <span style="color:#008000; font-style:italic;"># args[2] : data being written (as string)</span>
      <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;writing #{args[2].length} bytes to #{args[0].remote} starting at #{args[1]}&quot;</span>
    <span style="color:#9966CC; font-weight:bold;">when</span> <span style="color:#ff3333; font-weight:bold;">:finish</span> <span style="color:#9966CC; font-weight:bold;">then</span>
      <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;all done!&quot;</span>
    <span style="color:#9966CC; font-weight:bold;">end</span>
  <span style="color:#9966CC; font-weight:bold;">end</span>
<span style="color:#9966CC; font-weight:bold;">end</span></pre></td></tr></table></div>



<p style="text-align: justify;">Acima temos um exemplo simples retirado da <a title="http://net-ssh.rubyforge.org/sftp/v2/api/classes/Net/SFTP/Operations/Upload.html" href="http://net-ssh.rubyforge.org/sftp/v2/api/classes/Net/SFTP/Operations/Upload.html" target="_blank">documentação</a> para o controle do progresso de upload.</p>
<p style="text-align: justify;">Quando o upload inicia, o case recebe o evento &#8220;:open&#8221; onde podemos obter o tamanho total do arquivo e logo em seguida recebe os eventos &#8220;:put&#8221; onde é possível verificar  o quanto (em bytes) do arquivo já foi enviado, possibilitando assim a criação da porcentagem do upload.</p>
<p style="text-align: justify;">Como o foco aqui não é mostrar como obter o progresso (<span style="text-decoration: line-through;">posso mostrar isso exclusivamente em outro post</span> <a title="https://rafaelbiriba.com/2010/11/18/net-sftp-calculando-o-progresso-do-upload.html" href="https://rafaelbiriba.com/2010/11/18/net-sftp-calculando-o-progresso-do-upload.html" target="_blank">calculando o progresso durante o upload</a>), não vou entrar muito em detalhes sobre isso. O que realmente inporta nesses eventos são que durante o upload (:put), ao perder a conexão, nenhum evento é disparado, ou seja, o script não tem como sabe que a conexão caiu e a execução fica travada no upload.</p>
<p style="text-align: justify;"><strong>Minha solução:</strong></p>
<p style="text-align: justify;">Depois de todo esse estudo detalhado sobre o problema, comecei a pensar numa possível solução. Eu precisava utilizar alguma coisa que pudesse verificar e dar timeout no upload caso ele parasse de responder/transferir.</p>
<p style="text-align: justify;">Foi então que <span style="text-decoration: line-through;">pesquisei</span>, testei e implementei o <a title="http://rubygems.org/gems/rufus-scheduler" href="http://rubygems.org/gems/rufus-scheduler" target="_blank">rufus-scheduler</a>*,  um agendador de tarefas que roda dentro do script ruby(mas numa outra thread), onde posso definir um intervalo de execução para executar alguma coisa, como se fosse um cron. ( *Sugestão do <a title="http://twitter.com/vicentemundim" href="http://twitter.com/vicentemundim" target="_blank">@vicentemundim</a> )</p>
<p style="text-align: justify;"><strong>Então a solução foi:</strong> Assim que o upload começar, eu defino um tempo de 10 segundos para ele executar uma tarefa com &#8220;raise exception&#8221;. Então toda vez que o upload responder ao evento (:put), informando que conseguiu subir mais um trecho do arquivo, eu reseto o tempo de execução da tarefa e defino novamente em 10 segundos. Fazendo isso, quando a conexão cair ou o upload travar por algum motivo, ele vai parar de responder ao evento &#8220;:put&#8221;, e então a tarefa agendada para 10 segundos vai disparar o raise, interrompendo a execução do script.</p>
<p style="text-align: justify;">Depois de alguns testes, tanto de desempenho quanto de falhas, percebi que essa resolução serviu perfeitamente. Segue o exemplo do código utilizado:</p>


<div class="wp_syntax"><table><tr><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'rubygems'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'rufus/scheduler'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'net/sftp'</span>
&nbsp;
<span style="color:#0066ff; font-weight:bold;">@job</span> = <span style="color:#0000FF; font-weight:bold;">nil</span>
<span style="color:#0066ff; font-weight:bold;">@scheduler</span> = <span style="color:#6666ff; font-weight:bold;">Rufus::Scheduler::PlainScheduler</span>.<span style="color:#9900CC;">start_new</span>  
<span style="color:#9966CC; font-weight:bold;">def</span> <span style="color:#0066ff; font-weight:bold;">@scheduler</span>.<span style="color:#9900CC;">handle_exception</span> <span style="color:#006600; font-weight:bold;">&#40;</span>job, exception<span style="color:#006600; font-weight:bold;">&#41;</span>
  abort<span style="color:#006600; font-weight:bold;">&#40;</span>exception.<span style="color:#9900CC;">message</span><span style="color:#006600; font-weight:bold;">&#41;</span>
<span style="color:#9966CC; font-weight:bold;">end</span>
&nbsp;
<span style="color:#9966CC; font-weight:bold;">def</span> job_scheduler
  <span style="color:#0066ff; font-weight:bold;">@job</span>.<span style="color:#9900CC;">unschedule</span> <span style="color:#9966CC; font-weight:bold;">unless</span> <span style="color:#0066ff; font-weight:bold;">@job</span>.<span style="color:#0000FF; font-weight:bold;">nil</span>?
  <span style="color:#0066ff; font-weight:bold;">@job</span> = <span style="color:#0066ff; font-weight:bold;">@scheduler</span>.<span style="color:#9900CC;">every</span> <span style="color:#996600;">&quot;10s&quot;</span> <span style="color:#9966CC; font-weight:bold;">do</span>
    <span style="color:#CC0066; font-weight:bold;">raise</span> <span style="color:#996600;">&quot;SFTP Connection Lost or upload freezed timeout&quot;</span>
  <span style="color:#9966CC; font-weight:bold;">end</span>    
<span style="color:#9966CC; font-weight:bold;">end</span>
&nbsp;
<span style="color:#6666ff; font-weight:bold;">Net::SFTP</span>.<span style="color:#9900CC;">start</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">'192.168.0.2'</span>, <span style="color:#996600;">'rafaelbiriba'</span>, <span style="color:#006600; font-weight:bold;">&#123;</span>:password <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">'teste'</span>, <span style="color:#ff3333; font-weight:bold;">:timeout</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#006666;">3</span><span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#9966CC; font-weight:bold;">do</span> <span style="color:#006600; font-weight:bold;">|</span>sftp<span style="color:#006600; font-weight:bold;">|</span>
  sftp.<span style="color:#9900CC;">upload</span>!<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;/Users/rafaelbiriba/Projects/temp/video-teste-sftp.mp4&quot;</span>, <span style="color:#996600;">&quot;/home/rafaelbiriba/video-teste-sftp.mp4&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#9966CC; font-weight:bold;">do</span> <span style="color:#006600; font-weight:bold;">|</span>event, uploader, <span style="color:#006600; font-weight:bold;">*</span>args<span style="color:#006600; font-weight:bold;">|</span>
    <span style="color:#9966CC; font-weight:bold;">case</span> event
    <span style="color:#9966CC; font-weight:bold;">when</span> :<span style="color:#CC0066; font-weight:bold;">open</span> <span style="color:#9966CC; font-weight:bold;">then</span>
      <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;starting upload: #{args[0].local} -&gt; #{args[0].remote} (#{args[0].size} bytes}&quot;</span>
      job_scheduler
    <span style="color:#9966CC; font-weight:bold;">when</span> <span style="color:#ff3333; font-weight:bold;">:put</span> <span style="color:#9966CC; font-weight:bold;">then</span>
      <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;writing #{args[2].length} bytes to #{args[0].remote} starting at #{args[1]}&quot;</span>
      job_scheduler
    <span style="color:#9966CC; font-weight:bold;">when</span> <span style="color:#ff3333; font-weight:bold;">:finish</span> <span style="color:#9966CC; font-weight:bold;">then</span>
      <span style="color:#CC0066; font-weight:bold;">puts</span> <span style="color:#996600;">&quot;all done!&quot;</span>
     <span style="color:#0066ff; font-weight:bold;">@job</span>.<span style="color:#9900CC;">unschedule</span> <span style="color:#9966CC; font-weight:bold;">unless</span> <span style="color:#0066ff; font-weight:bold;">@job</span>.<span style="color:#0000FF; font-weight:bold;">nil</span>? 
    <span style="color:#9966CC; font-weight:bold;">end</span>
  <span style="color:#9966CC; font-weight:bold;">end</span>
<span style="color:#9966CC; font-weight:bold;">end</span></pre></td></tr></table></div>



<p style="text-align: justify;">Quando o upload inicia (:open) e durante a transferência (:put), ele chama o método job_scheduler que é responsável por resetar a tarefa anterior(se houver) e agendar uma nova com timeout de 10 segundos.</p>
<p style="text-align: justify;">Conforme expliquei acima, se o upload travar, o tempo limite de 10 segundos é alcançado e uma exceção é disparada.</p>
<p style="text-align: justify;">Como o agendador do rufus roda em outra thread, qualquer exceção disparada é capturada e tratada pelo próprio rufus, fazendo com que a execução do script continue. Então, sobrescrevi o método (handle_exception) e ao receber a exceção, gero um abort que irá interromper todo o script.</p>
<p style="text-align: justify;">Infelizmente, são poucos os sites relacionados sobre esse assunto, o que dificultou bastante a busca e o desenvolvimento. Mesmo assim, acredito ter resolvido o problema com uma solução bem razoável.</p>
<p style="text-align: justify;">Já falei em cima, mas vale ressaltar:<br />&#8220;Decidi escrever esse post, para compartilhar a minha solução e também  receber opniões e outras soluções para o problema. Fiz algo parecido  quando escrevi o post sobre o <a title="https://rafaelbiriba.com/2010/08/01/crontab-rodando-um-script-a-cada-15-segundos.html" href="https://rafaelbiriba.com/2010/08/01/crontab-rodando-um-script-a-cada-15-segundos.html" target="_blank">cron de 15 em 15 segundos</a> e obtive resultados bem legais.&#8221;</p>
<p style="text-align: justify;">Estou pensando em tentar solucionar isso direto no código do net-sftp e quem sabe mandar um patch para o autor. De qualquer forma, fico no aguardo de qualquer comentário e/ou soluções melhores.</p>
<div id="_mcePaste" style="position: absolute; left: -10000px; top: 1775px; width: 1px; height: 1px; overflow: hidden;">


<div class="wp_syntax"><table><tr><td class="code"><pre class="ruby" style="font-family:monospace;">handle_exception</pre></td></tr></table></div>



</div>

<div class="wp_rp_wrap  wp_rp_plain" ><div class="wp_rp_content"><h3 class="related_post_title">Leia também:</h3><ul class="related_post wp_rp"><li data-position="0" data-poid="in-2337" data-post-type="none" ><small class="wp_rp_publish_date">18/11/2010</small> <a href="https://rafaelbiriba.com/2010/11/18/net-sftp-calculando-o-progresso-do-upload.html" class="wp_rp_title">Net-SFTP: Calculando o progresso do upload</a></li><li data-position="1" data-poid="in-405" data-post-type="none" ><small class="wp_rp_publish_date">13/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html" class="wp_rp_title">Ruby: require &#8216;rubygems&#8217;</a></li><li data-position="2" data-poid="in-489" data-post-type="none" ><small class="wp_rp_publish_date">29/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html" class="wp_rp_title">Ruby: Alternativas para require &#8216;rubygems&#8217;</a></li><li data-position="3" data-poid="in-3075" data-post-type="none" ><small class="wp_rp_publish_date">21/09/2012</small> <a href="https://rafaelbiriba.com/2012/09/21/voce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html" class="wp_rp_title">Você sabia que dá para usar versões diferentes de ruby na mesma máquina ?</a></li><li data-position="4" data-poid="in-2831" data-post-type="none" ><small class="wp_rp_publish_date">06/05/2011</small> <a href="https://rafaelbiriba.com/2011/05/06/raptcha-um-captcha-simples-para-aplicacoes-rails.html" class="wp_rp_title">Raptcha: Um captcha simples para aplicações Rails</a></li></ul><div class="wp_rp_footer"><a class="wp_rp_backlink" target="_blank" href="http://www.zemanta.com/?wp-related-posts" rel="nofollow">Zemanta</a></div></div></div>
<p><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2010%2F09%2F24%2Fproblema-no-net-sftp-timeout-para-o-upload.html&amp;linkname=Net-sftp%3A%20Solu%C3%A7%C3%A3o%20para%20timeout%20durante%20o%20upload" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2010%2F09%2F24%2Fproblema-no-net-sftp-timeout-para-o-upload.html&amp;linkname=Net-sftp%3A%20Solu%C3%A7%C3%A3o%20para%20timeout%20durante%20o%20upload" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_dd a2a_target addtoany_share_save" href="https://www.addtoany.com/share#url=http%3A%2F%2Fwww.rafaelbiriba.com%2F2010%2F09%2F24%2Fproblema-no-net-sftp-timeout-para-o-upload.html&amp;title=Net-sftp%3A%20Solu%C3%A7%C3%A3o%20para%20timeout%20durante%20o%20upload" id="wpa2a_8"><img src="https://rafaelbiriba.com/wp-content/plugins/add-to-any/share_save_171_16.png" width="171" height="16" alt="Share"/></a></p>]]></content:encoded>
			<wfw:commentRss>https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html/feed</wfw:commentRss>
		<slash:comments>5</slash:comments>
		</item>
		<item>
		<title>Cloud Crowd: A primeira action</title>
		<link>https://rafaelbiriba.com/2010/02/08/cloud-crowd-a-primeira-action.html</link>
		<comments>https://rafaelbiriba.com/2010/02/08/cloud-crowd-a-primeira-action.html#respond</comments>
		<pubDate>Mon, 08 Feb 2010 16:40:27 +0000</pubDate>
		<dc:creator><![CDATA[Rafael Biriba]]></dc:creator>
				<category><![CDATA[Ruby]]></category>
		<category><![CDATA[cloud]]></category>
		<category><![CDATA[cloudcrowd]]></category>
		<category><![CDATA[crowd]]></category>
		<category><![CDATA[gem]]></category>
		<category><![CDATA[json]]></category>
		<category><![CDATA[parallel encoding]]></category>
		<category><![CDATA[rubygems]]></category>

		<guid isPermaLink="false">https://rafaelbiriba.com/?p=1900</guid>
		<description><![CDATA[Cloud Crowd é um controlador de filas para processamento paralelo, desenvolvido em ruby. Pode ser utilizado em Encoding de video, migração de arquivos e bancos de dados, redimensionamento de imagens e etc&#8230; Uma explicação rápida: Em uma máquina você levanta o server, onde é gerenciado a fila (criação, exclusão, status das tarefas e etc&#8230;). Em &#8230; <a href="https://rafaelbiriba.com/2010/02/08/cloud-crowd-a-primeira-action.html" class="more-link">Continue lendo <span class="screen-reader-text">Cloud Crowd: A primeira action</span> <span class="meta-nav">&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[
<p><img class="size-full wp-image-1901 alignleft" title="cloud-crowd" src="https://rafaelbiriba.com/wp-content/uploads/2010/01/cloud-crowd.png" alt="cloud-crowd" width="236" height="91" /><a title="http://wiki.github.com/documentcloud/cloud-crowd/" href="http://wiki.github.com/documentcloud/cloud-crowd/" target="_blank"></a></p>
<p style="text-align: justify;"><a title="http://wiki.github.com/documentcloud/cloud-crowd/" href="http://wiki.github.com/documentcloud/cloud-crowd/" target="_blank">Cloud Crowd</a> é um controlador de filas para processamento paralelo, desenvolvido em ruby. Pode ser utilizado em Encoding de video, migração de arquivos e bancos de dados, redimensionamento de imagens e etc&#8230;</p>
<p style="text-align: justify;">Uma explicação rápida: Em uma máquina você levanta o <span style="color: #ff0000;">server</span>, onde é gerenciado a fila (criação, exclusão, status das tarefas e etc&#8230;). Em outras máquinas você levanta o <span style="color: #ff0000;">node</span>, onde as terefas serão recebidas e executadas. Ao terminar, o node informa ao server, liberando-se para receber outra tarefa.</p>
<p style="text-align: justify;">Essa semana comecei a desvendar os benefícios do Cloud Crowd, principalmente para encoding paralelo de vídeo. Mas antes, tive que entender como ele funciona e o que tem para nos oferecer.</p>
<p style="text-align: justify;">Então, acompanhando o &#8220;tutorial&#8221; em <a title="http://wiki.github.com/documentcloud/cloud-crowd/writing-an-action" href="http://wiki.github.com/documentcloud/cloud-crowd/writing-an-action" target="_blank">http://wiki.github.com/documentcloud/cloud-crowd/writing-an-action</a>, escrevi uma pequena action:</p>


<div class="wp_syntax"><table><tr><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#9966CC; font-weight:bold;">class</span> HelloWorld <span style="color:#006600; font-weight:bold;">&lt;</span> <span style="color:#6666ff; font-weight:bold;">CloudCrowd::Action</span>
   <span style="color:#9966CC; font-weight:bold;">def</span> process
      <span style="color:#6666ff; font-weight:bold;">Thin::Logging</span>.<span style="color:#9900CC;">log</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;HelloWorld :: -- criando arquivo #{input}!&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span>
      <span style="color:#996600;">`touch #{input}`</span>
      <span style="color:#006666;">0</span>
   <span style="color:#9966CC; font-weight:bold;">end</span>
<span style="color:#9966CC; font-weight:bold;">end</span></pre></td></tr></table></div>



<p style="text-align: justify;">Você passa um nome qualquer, e o script cria um arquivo em branco. Simples !?, Mas serviu bem para meus primeiros testes.</p>
<p style="text-align: justify;">Também aproveitei e usei o log do <strong>Thin</strong> que é o servidor que o Cloud Crowd levanta, para registrar o evento de dentro da action&#8230; Isso significa que as mensagens de log da minha action foram registradas no arquivo de log do node que a executou&#8230; Se preferir você pode utilizar o Logger do Rails. Como foi apenas um experimento, utilizei o do Thin mesmo.</p>
<p style="text-align: justify;"><strong>Cadastrando tarefas:</strong></p>
<p style="text-align: justify;">Para começar a utilizar sua action,  você precisa postar um JSON com as informações necessárias no server, para cadastrar uma tarefa. (Não preciso lembrar que o server e algum node deve estar rodando, certo ?)</p>
<p>Para isso, crie um script ruby, ou rode pelo irb os comandos*:</p>


<div class="wp_syntax"><table><tr><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'rubygems'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'restclient'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'json'</span>
RestClient.<span style="color:#9900CC;">post</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">'http://localhost:9173/jobs'</span>,<span style="color:#006600; font-weight:bold;">&#123;</span>:job <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#006600; font-weight:bold;">&#123;</span> <span style="color:#996600;">'action'</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#996600;">'hello_world'</span> , <span style="color:#996600;">'inputs'</span> <span style="color:#006600; font-weight:bold;">=&gt;</span> <span style="color:#006600; font-weight:bold;">&#91;</span><span style="color:#996600;">'/home/rafael/arquivo_teste1'</span>, <span style="color:#996600;">'/home/rafael/arquivo_teste2'</span><span style="color:#006600; font-weight:bold;">&#93;</span><span style="color:#006600; font-weight:bold;">&#125;</span>.<span style="color:#9900CC;">to_json</span><span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span></pre></td></tr></table></div>



<p style="text-align: justify;">Considerando que o server está rodando na máquina que rodou o script. Caso contrário, altere o localhost pelo ip do Server. E os arquivos são criados (pelo comando &#8220;touch&#8221;) na máquina que roda o Node. Para fins de teste e desenvolvimento, é possível rodar o server e o node na mesma máquina, já que eles sobem em portas diferentes&#8230;</p>
<p style="text-align: justify;">Então é isso&#8230; Você já pode paralelizar qualquer tarefa. Basta escrever suas próprias actions&#8230; <img src="https://s.w.org/images/core/emoji/72x72/1f609.png" alt="😉" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>&nbsp;</p>

<div class="wp_rp_wrap  wp_rp_plain" ><div class="wp_rp_content"><h3 class="related_post_title">Leia também:</h3><ul class="related_post wp_rp"><li data-position="0" data-poid="in-3075" data-post-type="none" ><small class="wp_rp_publish_date">21/09/2012</small> <a href="https://rafaelbiriba.com/2012/09/21/voce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html" class="wp_rp_title">Você sabia que dá para usar versões diferentes de ruby na mesma máquina ?</a></li><li data-position="1" data-poid="in-2908" data-post-type="none" ><small class="wp_rp_publish_date">03/02/2012</small> <a href="https://rafaelbiriba.com/2012/02/03/ubuntu-11-10-com-ruby-on-rails-nginx-mysql-de-forma-simples.html" class="wp_rp_title">Ubuntu 11.10 com Ruby on Rails + Nginx + Mysql de forma simples</a></li><li data-position="2" data-poid="in-489" data-post-type="none" ><small class="wp_rp_publish_date">29/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html" class="wp_rp_title">Ruby: Alternativas para require &#8216;rubygems&#8217;</a></li><li data-position="3" data-poid="in-2271" data-post-type="none" ><small class="wp_rp_publish_date">24/09/2010</small> <a href="https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html" class="wp_rp_title">Net-sftp: Solução para timeout durante o upload</a></li><li data-position="4" data-poid="in-405" data-post-type="none" ><small class="wp_rp_publish_date">13/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html" class="wp_rp_title">Ruby: require &#8216;rubygems&#8217;</a></li></ul><div class="wp_rp_footer"><a class="wp_rp_backlink" target="_blank" href="http://www.zemanta.com/?wp-related-posts" rel="nofollow">Zemanta</a></div></div></div>
<p><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2010%2F02%2F08%2Fcloud-crowd-a-primeira-action.html&amp;linkname=Cloud%20Crowd%3A%20A%20primeira%20action" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2010%2F02%2F08%2Fcloud-crowd-a-primeira-action.html&amp;linkname=Cloud%20Crowd%3A%20A%20primeira%20action" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_dd a2a_target addtoany_share_save" href="https://www.addtoany.com/share#url=http%3A%2F%2Fwww.rafaelbiriba.com%2F2010%2F02%2F08%2Fcloud-crowd-a-primeira-action.html&amp;title=Cloud%20Crowd%3A%20A%20primeira%20action" id="wpa2a_10"><img src="https://rafaelbiriba.com/wp-content/plugins/add-to-any/share_save_171_16.png" width="171" height="16" alt="Share"/></a></p>]]></content:encoded>
			<wfw:commentRss>https://rafaelbiriba.com/2010/02/08/cloud-crowd-a-primeira-action.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Ruby: Alternativas para require &#8216;rubygems&#8217;</title>
		<link>https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html</link>
		<comments>https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html#comments</comments>
		<pubDate>Wed, 29 Apr 2009 12:00:39 +0000</pubDate>
		<dc:creator><![CDATA[Rafael Biriba]]></dc:creator>
				<category><![CDATA[Desenvolvimento]]></category>
		<category><![CDATA[Ruby]]></category>
		<category><![CDATA[codigo]]></category>
		<category><![CDATA[hpricot]]></category>
		<category><![CDATA[programação]]></category>
		<category><![CDATA[ruby on rails]]></category>
		<category><![CDATA[rubygems]]></category>
		<category><![CDATA[rubyonrails]]></category>
		<category><![CDATA[web]]></category>

		<guid isPermaLink="false">https://rafaelbiriba.com/?p=489</guid>
		<description><![CDATA[Baseado no comentário de Guilherme Chapiewski encontrado em https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html, resolvi postar alternativas para suprir essa necessidade do require &#8216;rubygems&#8217; e porque é errado utilizá-lo ! Primeiramente, vamos para a pergunta que originou este post:O que há de errado em utilizar require &#8216;rubygems&#8217; no meu script ? Bom, analisando o exemplo que eu dei no post &#8230; <a href="https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html" class="more-link">Continue lendo <span class="screen-reader-text">Ruby: Alternativas para require &#8216;rubygems&#8217;</span> <span class="meta-nav">&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[
<p><img class="size-full wp-image-408 alignleft" title="ruby-logo-justruby" src="https://rafaelbiriba.com/wp-content/uploads/2009/04/ruby-logo-justruby.jpg" alt="ruby-logo-justruby" width="132" height="150" /></p>
<p style="text-align: justify;">Baseado no comentário <span class="info">de <a id="commentauthor-26" title="http://gc.blog.br/" href="http://gc.blog.br/">Guilherme Chapiewski</a></span> encontrado em <a title="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html#comments" href="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html#comments" target="_blank">https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html</a>, resolvi postar alternativas para suprir essa necessidade do require &#8216;rubygems&#8217; e porque é errado utilizá-lo !</p>
<p style="text-align: justify;">Primeiramente, vamos para a pergunta que originou este post:<br /><strong>O que há de errado em utilizar <span style="color: #ff0000;">require &#8216;rubygems&#8217;</span> no meu script ?</strong></p>
<p style="text-align: justify;">Bom, analisando o exemplo que eu dei no <a title="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html#comments" href="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html#comments" target="_blank">post do require rubygems</a>, transcrito logo abaixo, onde se você quiser utilizar o <span style="color: #ff0000;">pacote &#8220;hpricot&#8221;</span>, instalado pelo comando <strong>gem install hpricot,</strong> o código não irá rodar, retornando um erro referente ao rubygems. Usando o <span style="color: #ff0000;">require &#8216;rubygems&#8217; </span>o problema é resolvido, mas não está correto. O motivo é bem simples. Primeiro vamos ver o código em questão:</p>


<div class="wp_syntax"><table><tr><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'hpricot'</span> 
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'open-uri'</span> 
meuXml = Hpricot.<span style="color:#9900CC;">XML</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#CC0066; font-weight:bold;">open</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;http://www.exemplo.com/exemplo.xml&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span><span style="color:#006600; font-weight:bold;">&#41;</span></pre></td></tr></table></div>



<p style="text-align: justify;">Concordam comigo que o código acima, é uma simples aplicação em ruby ? O que eu quero dizer é que você pode instalar o <strong>hpricot</strong> de várias maneiras diferentes ! Por exemplo, acessando o link: <a title="http://wiki.github.com/why/hpricot/installing-hpricot" href="http://wiki.github.com/why/hpricot/installing-hpricot" target="_blank">http://wiki.github.com/why/hpricot/installing-hpricot</a>, você pode observar que o Hpricot pode ser instalado sem o Rubygems. Sendo assim, ao usar o <strong>require &#8220;rubygems&#8221;</strong> em um máquina que não tem o rubygems instalado, vai dar problema na execução !</p>
<p style="text-align: justify;">Então o que fazer se eu instalei o Hpricot pelo rubygems ? Simples&#8230;<br /><br />Você pode facilmente rodar o seu script incluindo <span style="color: #ff0000;">-rubygems</span> na linha de comando, conforme o exemplo abaixo:</p>
<p style="text-align: justify;">ruby <span style="color: #ff0000;">-rubygems</span> meu_script.rb</p>
<p style="text-align: justify;">Isso fará rodar o pacote rubygems antes de executar sua aplicação meu_script.rb</p>
<p>Fonte: <a title="http://gist.github.com/54177" href="http://gist.github.com/54177" target="_blank">http://gist.github.com/54177</a></p>
<p>Bom, então é isso.<a title="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html#comments" href="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html#comments" target="_blank"></a></p>

<div class="wp_rp_wrap  wp_rp_plain" ><div class="wp_rp_content"><h3 class="related_post_title">Leia também:</h3><ul class="related_post wp_rp"><li data-position="0" data-poid="in-405" data-post-type="none" ><small class="wp_rp_publish_date">13/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html" class="wp_rp_title">Ruby: require &#8216;rubygems&#8217;</a></li><li data-position="1" data-poid="in-2271" data-post-type="none" ><small class="wp_rp_publish_date">24/09/2010</small> <a href="https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html" class="wp_rp_title">Net-sftp: Solução para timeout durante o upload</a></li><li data-position="2" data-poid="in-2831" data-post-type="none" ><small class="wp_rp_publish_date">06/05/2011</small> <a href="https://rafaelbiriba.com/2011/05/06/raptcha-um-captcha-simples-para-aplicacoes-rails.html" class="wp_rp_title">Raptcha: Um captcha simples para aplicações Rails</a></li><li data-position="3" data-poid="in-2337" data-post-type="none" ><small class="wp_rp_publish_date">18/11/2010</small> <a href="https://rafaelbiriba.com/2010/11/18/net-sftp-calculando-o-progresso-do-upload.html" class="wp_rp_title">Net-SFTP: Calculando o progresso do upload</a></li><li data-position="4" data-poid="in-3075" data-post-type="none" ><small class="wp_rp_publish_date">21/09/2012</small> <a href="https://rafaelbiriba.com/2012/09/21/voce-sabia-que-da-para-usar-versoes-diferentes-de-ruby-na-mesma-maquina.html" class="wp_rp_title">Você sabia que dá para usar versões diferentes de ruby na mesma máquina ?</a></li></ul><div class="wp_rp_footer"><a class="wp_rp_backlink" target="_blank" href="http://www.zemanta.com/?wp-related-posts" rel="nofollow">Zemanta</a></div></div></div>
<p><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2009%2F04%2F29%2Fruby-require-rubygems-alternativas.html&amp;linkname=Ruby%3A%20Alternativas%20para%20require%20%E2%80%98rubygems%E2%80%99" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2009%2F04%2F29%2Fruby-require-rubygems-alternativas.html&amp;linkname=Ruby%3A%20Alternativas%20para%20require%20%E2%80%98rubygems%E2%80%99" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_dd a2a_target addtoany_share_save" href="https://www.addtoany.com/share#url=http%3A%2F%2Fwww.rafaelbiriba.com%2F2009%2F04%2F29%2Fruby-require-rubygems-alternativas.html&amp;title=Ruby%3A%20Alternativas%20para%20require%20%E2%80%98rubygems%E2%80%99" id="wpa2a_12"><img src="https://rafaelbiriba.com/wp-content/plugins/add-to-any/share_save_171_16.png" width="171" height="16" alt="Share"/></a></p>]]></content:encoded>
			<wfw:commentRss>https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html/feed</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>Ruby: require &#8216;rubygems&#8217;</title>
		<link>https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html</link>
		<comments>https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html#comments</comments>
		<pubDate>Mon, 13 Apr 2009 11:08:43 +0000</pubDate>
		<dc:creator><![CDATA[Rafael Biriba]]></dc:creator>
				<category><![CDATA[Desenvolvimento]]></category>
		<category><![CDATA[Ruby]]></category>
		<category><![CDATA[codigo]]></category>
		<category><![CDATA[hpricot]]></category>
		<category><![CDATA[online]]></category>
		<category><![CDATA[programação]]></category>
		<category><![CDATA[programar]]></category>
		<category><![CDATA[rails]]></category>
		<category><![CDATA[rubygems]]></category>
		<category><![CDATA[rubyonrails]]></category>
		<category><![CDATA[Tecnologia]]></category>
		<category><![CDATA[web]]></category>

		<guid isPermaLink="false">https://rafaelbiriba.com/?p=405</guid>
		<description><![CDATA[Essa semana estive escrevendo alguns códigos usando Ruby on Rails, e encontrei um problema, que demorei um pouco para descobrir sua solução, mas no fim se tratava de algo muito simples e lógico. Ao instalar o Rails e qualquer outro pacote pelo rubygems ( gem install hpricot, por exemplo), para importar esse pacote no código, &#8230; <a href="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html" class="more-link">Continue lendo <span class="screen-reader-text">Ruby: require &#8216;rubygems&#8217;</span> <span class="meta-nav">&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[
<p><img class="size-full wp-image-408 alignleft" title="ruby-logo-justruby" src="https://rafaelbiriba.com/wp-content/uploads/2009/04/ruby-logo-justruby.jpg" alt="ruby-logo-justruby" width="132" height="150" /></p>
<p style="text-align: justify;">Essa semana estive escrevendo alguns códigos usando <a title="https://rafaelbiriba.com/2009/04/04/ruby-aprenda-a-programar.html" href="https://rafaelbiriba.com/2009/04/04/ruby-aprenda-a-programar.html" target="_blank">Ruby on Rails</a>, e encontrei um problema, que demorei um pouco para descobrir sua solução, mas no fim se tratava de algo muito simples e lógico.</p>
<p style="text-align: justify;">Ao instalar o Rails e qualquer outro pacote pelo rubygems ( <strong>gem install hpricot</strong>, por exemplo), para importar esse pacote no código, é necessário importar a biblioteca do rubygems primeiro.</p>
<p style="text-align: justify;">Manual do RubyGems ( <a title="http://docs.rubygems.org/read/book/1" href="http://docs.rubygems.org/read/book/1" target="_blank">http://docs.rubygems.org/read/book/1</a> ).</p>
<p style="text-align: justify;">Na prática, eu estava utilizando o código abaixo:</p>


<div class="wp_syntax"><table><tr><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'hpricot'</span> 
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'open-uri'</span> 
meuXml = Hpricot.<span style="color:#9900CC;">XML</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#CC0066; font-weight:bold;">open</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;http://www.exemplo.com/exemplo.xml&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span><span style="color:#006600; font-weight:bold;">&#41;</span></pre></td></tr></table></div>



<p style="text-align: justify;"><span style="color: #ff0000;"><span style="color: #000000;">Este codigo abre uma URL, captura seu XML e armazena o conteúdo em uma variável ( string ).</span></span></p>
<p style="text-align: justify;"><span style="color: #ff0000;"><span style="color: #000000;">Porém, isso só é possível se incluir a biblioteca do rubygems. Verifique o código abaixo, desta vez, funcionando:</span></span></p>


<div class="wp_syntax"><table><tr><td class="code"><pre class="ruby" style="font-family:monospace;"><span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'rubygems'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'hpricot'</span>
<span style="color:#CC0066; font-weight:bold;">require</span> <span style="color:#996600;">'open-uri'</span> 
meuXml = Hpricot.<span style="color:#9900CC;">XML</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#CC0066; font-weight:bold;">open</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#996600;">&quot;http://www.exemplo.com/exemplo.xml&quot;</span><span style="color:#006600; font-weight:bold;">&#41;</span><span style="color:#006600; font-weight:bold;">&#41;</span></pre></td></tr></table></div>



<p>&nbsp;</p>
<p style="text-align: justify;"><span style="color: #ff0000;"><span style="color: #000000;">Bom, então é isso !<br />&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;<br />Baseado no comentário recebido depois da publicação deste Post, visite também:<br /><a title="https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html" href="https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html" target="_blank">https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html</a></span> </span></p>

<div class="wp_rp_wrap  wp_rp_plain" ><div class="wp_rp_content"><h3 class="related_post_title">Leia também:</h3><ul class="related_post wp_rp"><li data-position="0" data-poid="in-489" data-post-type="none" ><small class="wp_rp_publish_date">29/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html" class="wp_rp_title">Ruby: Alternativas para require &#8216;rubygems&#8217;</a></li><li data-position="1" data-poid="in-402" data-post-type="none" ><small class="wp_rp_publish_date">04/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/04/ruby-aprenda-a-programar.html" class="wp_rp_title">Ruby: Aprenda a programar</a></li><li data-position="2" data-poid="in-2831" data-post-type="none" ><small class="wp_rp_publish_date">06/05/2011</small> <a href="https://rafaelbiriba.com/2011/05/06/raptcha-um-captcha-simples-para-aplicacoes-rails.html" class="wp_rp_title">Raptcha: Um captcha simples para aplicações Rails</a></li><li data-position="3" data-poid="in-2271" data-post-type="none" ><small class="wp_rp_publish_date">24/09/2010</small> <a href="https://rafaelbiriba.com/2010/09/24/problema-no-net-sftp-timeout-para-o-upload.html" class="wp_rp_title">Net-sftp: Solução para timeout durante o upload</a></li><li data-position="4" data-poid="in-2337" data-post-type="none" ><small class="wp_rp_publish_date">18/11/2010</small> <a href="https://rafaelbiriba.com/2010/11/18/net-sftp-calculando-o-progresso-do-upload.html" class="wp_rp_title">Net-SFTP: Calculando o progresso do upload</a></li></ul><div class="wp_rp_footer"><a class="wp_rp_backlink" target="_blank" href="http://www.zemanta.com/?wp-related-posts" rel="nofollow">Zemanta</a></div></div></div>
<p><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2009%2F04%2F13%2Fruby-require-rubygems.html&amp;linkname=Ruby%3A%20require%20%E2%80%98rubygems%E2%80%99" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2009%2F04%2F13%2Fruby-require-rubygems.html&amp;linkname=Ruby%3A%20require%20%E2%80%98rubygems%E2%80%99" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_dd a2a_target addtoany_share_save" href="https://www.addtoany.com/share#url=http%3A%2F%2Fwww.rafaelbiriba.com%2F2009%2F04%2F13%2Fruby-require-rubygems.html&amp;title=Ruby%3A%20require%20%E2%80%98rubygems%E2%80%99" id="wpa2a_14"><img src="https://rafaelbiriba.com/wp-content/plugins/add-to-any/share_save_171_16.png" width="171" height="16" alt="Share"/></a></p>]]></content:encoded>
			<wfw:commentRss>https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html/feed</wfw:commentRss>
		<slash:comments>8</slash:comments>
		</item>
		<item>
		<title>Ruby: Aprenda a programar</title>
		<link>https://rafaelbiriba.com/2009/04/04/ruby-aprenda-a-programar.html</link>
		<comments>https://rafaelbiriba.com/2009/04/04/ruby-aprenda-a-programar.html#comments</comments>
		<pubDate>Sat, 04 Apr 2009 23:26:42 +0000</pubDate>
		<dc:creator><![CDATA[Rafael Biriba]]></dc:creator>
				<category><![CDATA[Desenvolvimento]]></category>
		<category><![CDATA[Ruby]]></category>
		<category><![CDATA[aprenda]]></category>
		<category><![CDATA[construção]]></category>
		<category><![CDATA[iniciante]]></category>
		<category><![CDATA[leitura]]></category>
		<category><![CDATA[programar]]></category>
		<category><![CDATA[rails]]></category>
		<category><![CDATA[rb]]></category>
		<category><![CDATA[Tecnologia]]></category>
		<category><![CDATA[web]]></category>

		<guid isPermaLink="false">https://rafaelbiriba.com/?p=402</guid>
		<description><![CDATA[Nas últimas semanas estive empenhado para aprender Ruby on Rails. Procurei aqui e ali na internet, juntei conteúdo de todas as partes e blogs, para aprender cada vez mais. Para quem não sabe, Ruby on Rails é um framework para desenvolvimento Web, bem mais fácil de trabalhar comparando com outras linguagens Web. Como diz no &#8230; <a href="https://rafaelbiriba.com/2009/04/04/ruby-aprenda-a-programar.html" class="more-link">Continue lendo <span class="screen-reader-text">Ruby: Aprenda a programar</span> <span class="meta-nav">&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[<p><img class="size-full wp-image-408 alignleft" title="ruby-logo-justruby" src="https://rafaelbiriba.com/wp-content/uploads/2009/04/ruby-logo-justruby.jpg" alt="ruby-logo-justruby" width="132" height="150" /></p>
<p style="text-align: justify;">Nas últimas semanas estive empenhado para aprender Ruby on Rails. Procurei aqui e ali na internet, juntei conteúdo de todas as partes e blogs, para aprender cada vez mais.</p>
<p>Para quem não sabe, Ruby on Rails é um framework para desenvolvimento Web, bem mais fácil de trabalhar comparando com outras linguagens Web.</p>
<p>Como diz no site do Rails, &#8220;Mostre, não fale: Ver é acreditar !&#8221;, visite o link abaixo e veja alguns exemplos de Rails na prática:<br />
<a title="http://www.rubyonrails.pro.br/apresentacoes" href="http://www.rubyonrails.pro.br/apresentacoes" target="_blank">http://www.rubyonrails.pro.br/apresentacoes</a></p>
<p style="text-align: justify;">Depois de vários dias, descobri um site ótimo para quem quer aprender a programar: ( Pena não ter encontrado ele antes )<br />
<a title="http://aprendaaprogramar.rubyonrails.pro.br/" href="http://aprendaaprogramar.rubyonrails.pro.br/" target="_blank">http://aprendaaprogramar.rubyonrails.pro.br/</a></p>
<p style="text-align: justify;">O site apresenta capitulos divididos em 11 links. A didática é ótima, e diz o autor que os exemplos encontrados no site são realmente &#8220;executados&#8221; , ou seja, o resultado do exemplo que você vê no site, realmente é executado. Isso é apenas um dos benefícios de usar o Ruby on Rails.</p>
<p style="text-align: justify;">Eu recomendo tanto o site, quanto a linguagem para todos os programadores/desenvolvedores. Inclusive eu recomendo também para os futuros programadores. Quem tem pouco conhecimento na área, vai facilmente aprender a lógica de programação e a linguagem de maneira simplificada.</p>
<p style="text-align: justify;">Em falar nisso, eu achei extremamente fácil de aprender e entender. Pra quem quer começar, visite o site abaixo para baixar a última distribuição do ruby:<br />
<a title="http://www.ruby-lang.org/pt/downloads/" href="http://www.ruby-lang.org/pt/downloads/" target="_blank">http://www.ruby-lang.org/pt/downloads/</a></p>
<p style="text-align: justify;">Ou então visite direto o site do Ruby on Rails, utilizem seus links para o download tanto do ruby quanto do rails*:<br />
<a title="http://www.rubyonrails.pro.br/down" href="http://www.rubyonrails.pro.br/down" target="_blank">http://www.rubyonrails.pro.br/down</a><br />
Neste mesmo link ainda exemplos de como criar sua primeira aplicação em Rails.<br />
* Instalação do Rails e muitos outros pacotes, serão efetuadas pelo gerenciador RubyGems.</p>
<p style="text-align: justify;">Bom, espero que se divirtam&#8230; =)</p>

<div class="wp_rp_wrap  wp_rp_plain" ><div class="wp_rp_content"><h3 class="related_post_title">Leia também:</h3><ul class="related_post wp_rp"><li data-position="0" data-poid="in-405" data-post-type="none" ><small class="wp_rp_publish_date">13/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/13/ruby-require-rubygems.html" class="wp_rp_title">Ruby: require &#8216;rubygems&#8217;</a></li><li data-position="1" data-poid="in-2831" data-post-type="none" ><small class="wp_rp_publish_date">06/05/2011</small> <a href="https://rafaelbiriba.com/2011/05/06/raptcha-um-captcha-simples-para-aplicacoes-rails.html" class="wp_rp_title">Raptcha: Um captcha simples para aplicações Rails</a></li><li data-position="2" data-poid="in-489" data-post-type="none" ><small class="wp_rp_publish_date">29/04/2009</small> <a href="https://rafaelbiriba.com/2009/04/29/ruby-require-rubygems-alternativas.html" class="wp_rp_title">Ruby: Alternativas para require &#8216;rubygems&#8217;</a></li><li data-position="3" data-poid="in-1278" data-post-type="none" ><small class="wp_rp_publish_date">25/08/2009</small> <a href="https://rafaelbiriba.com/2009/08/25/evento-recomendado-dev-in-rio-2009.html" class="wp_rp_title">Evento recomendado: Dev in Rio 2009</a></li><li data-position="4" data-poid="in-280" data-post-type="none" ><small class="wp_rp_publish_date">06/03/2009</small> <a href="https://rafaelbiriba.com/2009/03/06/chart-api-grafico-de-visitantes-do-dia.html" class="wp_rp_title">Chart API: Gráfico de visitantes do dia</a></li></ul><div class="wp_rp_footer"><a class="wp_rp_backlink" target="_blank" href="http://www.zemanta.com/?wp-related-posts" rel="nofollow">Zemanta</a></div></div></div>
<p><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2009%2F04%2F04%2Fruby-aprenda-a-programar.html&amp;linkname=Ruby%3A%20Aprenda%20a%20programar" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fwww.rafaelbiriba.com%2F2009%2F04%2F04%2Fruby-aprenda-a-programar.html&amp;linkname=Ruby%3A%20Aprenda%20a%20programar" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_dd a2a_target addtoany_share_save" href="https://www.addtoany.com/share#url=http%3A%2F%2Fwww.rafaelbiriba.com%2F2009%2F04%2F04%2Fruby-aprenda-a-programar.html&amp;title=Ruby%3A%20Aprenda%20a%20programar" id="wpa2a_16"><img src="https://rafaelbiriba.com/wp-content/plugins/add-to-any/share_save_171_16.png" width="171" height="16" alt="Share"/></a></p>]]></content:encoded>
			<wfw:commentRss>https://rafaelbiriba.com/2009/04/04/ruby-aprenda-a-programar.html/feed</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
	</channel>
</rss>
